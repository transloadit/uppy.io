"use strict";(self.webpackChunkuppy_io=self.webpackChunkuppy_io||[]).push([[8106],{11463:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>m,frontMatter:()=>l,metadata:()=>c,toc:()=>p});var s=o(74848),r=o(28453),i=o(11470),t=o(19365),a=o(65171);const l={sidebar_position:1,slug:"/remote-sources"},d="Remote sources",c={id:"presets/remote-sources",title:"Remote sources",description:"@uppy/remote-sources is a preset plugin (meaning it bundles and sets up other",source:"@site/docs/presets/remote-sources.mdx",sourceDirName:"presets",slug:"/remote-sources",permalink:"/docs/remote-sources",draft:!1,unlisted:!1,editUrl:"https://github.com/transloadit/uppy.io/blob/main/docs/presets/remote-sources.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/remote-sources"},sidebar:"tutorialSidebar",previous:{title:"Vue",permalink:"/docs/vue"},next:{title:"Internationalisation",permalink:"/docs/locales"}},h={},p=[{value:"When should I use it?",id:"when-should-i-use-it",level:2},{value:"Install",id:"install",level:2},{value:"Use",id:"use",level:2},{value:"Use with Transloadit",id:"use-with-transloadit",level:3},{value:"API",id:"api",level:2},{value:"Options",id:"options",level:3},{value:"<code>id</code>",id:"id",level:4},{value:"<code>sources</code>",id:"sources",level:4},{value:"<code>companionUrl</code>",id:"companionurl",level:4},{value:"<code>companionHeaders</code>",id:"companionheaders",level:4},{value:"<code>companionAllowedHosts</code>",id:"companionallowedhosts",level:4},{value:"<code>companionCookiesRule</code>",id:"companioncookiesrule",level:4},{value:"<code>target</code>",id:"target",level:4}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"remote-sources",children:"Remote sources"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"@uppy/remote-sources"})," is a preset plugin (meaning it bundles and sets up other\nplugins) to add all the available remote sources, such Instagram, Google Drive,\nDropbox, and others to Uppy Dashboard in one package."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Remote Sources requires Dashboard and automatically installs all its plugins to\nit."})}),"\n",(0,s.jsx)(n.h2,{id:"when-should-i-use-it",children:"When should I use it?"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"@uppy/remote-sources"})," aims to simplify the setup for adding Companion plugins,\nwhen you want to share the configuration between plugins. If you want your users\nto upload files from any of the remote sources that Uppy offers, this plugin is\nrecommended."]}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.a,{href:"/docs/companion",children:"Companion"})," instance is required for the Remote Sources\nplugin to work. Companion handles authentication with the remote services (such\nas Facebook, Dropbox, etc.), downloads the files, and uploads them to the\ndestination. This saves the user bandwidth, especially helpful if they are on a\nmobile connection."]}),"\n",(0,s.jsxs)(n.p,{children:["You can self-host Companion or get a hosted version with any\n",(0,s.jsx)(n.a,{href:"https://transloadit.com/pricing/",children:"Transloadit plan"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"install",children:"Install"}),"\n",(0,s.jsxs)(i.A,{children:[(0,s.jsx)(t.A,{value:"npm",label:"NPM",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npm install @uppy/remote-sources\n"})})}),(0,s.jsx)(t.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"yarn add @uppy/remote-sources\n"})})}),(0,s.jsx)(t.A,{value:"cdn",label:"CDN",children:(0,s.jsx)(a.A,{children:'\n        import { RemoteSources } from "{{UPPY_JS_URL}}"\n        const RemoteSources = new Uppy().use(RemoteSources)\n      '})})]}),"\n",(0,s.jsx)(n.h2,{id:"use",children:"Use"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"{10} showLineNumbers",children:"import Uppy from '@uppy/core';\nimport Dashboard from '@uppy/dashboard';\nimport RemoteSources from '@uppy/remote-sources';\n\nimport '@uppy/core/css/style.min.css';\nimport '@uppy/dashboard/css/style.min.css';\n\nnew Uppy();\n  .use(Dashboard);\n  .use(RemoteSources, { companionUrl: 'https://your-companion-url' });\n"})}),"\n",(0,s.jsx)(n.h3,{id:"use-with-transloadit",children:"Use with Transloadit"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"import { COMPANION_URL, COMPANION_ALLOWED_HOSTS } from '@uppy/transloadit';\nimport RemoteSources from '@uppy/remote-sources';\n\nuppy.use(RemoteSources, {\n\tcompanionUrl: COMPANION_URL,\n\tcompanionAllowedHosts: COMPANION_ALLOWED_HOSTS,\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:"You may also hit rate limits, because the OAuth application is shared between\neveryone using Transloadit."}),"\n",(0,s.jsxs)(n.p,{children:["To solve that, you can use your own OAuth keys with Transloadit\u2019s hosted\nCompanion servers by using Transloadit Template Credentials. ",(0,s.jsx)(n.a,{href:"https://transloadit.com/docs/#how-to-create-template-credentials",children:"Create a Template\nCredential"})," on the Transloadit site. Select \u201cCompanion\nOAuth\u201d for the service, and enter the key and secret for the provider you want\nto use. Then you can pass the name of the new credentials to that provider:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"import { COMPANION_URL, COMPANION_ALLOWED_HOSTS } from '@uppy/transloadit';\nimport RemoteSources from '@uppy/remote-sources';\n\nuppy.use(RemoteSources, {\n\tcompanionUrl: COMPANION_URL,\n\tcompanionAllowedHosts: COMPANION_ALLOWED_HOSTS,\n\tcompanionKeysParams: {\n\t\tGoogleDrive: { key: '...', credentialsName: '...' },\n\t\tDropbox: { key: '...', credentialsName: '...' },\n\t\t// ...etc\n\t},\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,s.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,s.jsx)(n.h4,{id:"id",children:(0,s.jsx)(n.code,{children:"id"})}),"\n",(0,s.jsxs)(n.p,{children:["A unique identifier for this plugin (",(0,s.jsx)(n.code,{children:"string"}),", default: ",(0,s.jsx)(n.code,{children:"RemoteSources"}),")."]}),"\n",(0,s.jsx)(n.h4,{id:"sources",children:(0,s.jsx)(n.code,{children:"sources"})}),"\n",(0,s.jsxs)(n.p,{children:["List of remote sources that will be enabled (",(0,s.jsx)(n.code,{children:"array"}),", default:\n",(0,s.jsx)(n.code,{children:"['Box', 'Dropbox', 'Facebook', 'GoogleDrive','Instagram', 'OneDrive', 'Unsplash', 'Url', 'Zoom']"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"You don\u2019t need to specify them manually or change them, but if you want to alter\nthe order in which they appear in the Dashboard, or disable some sources, this\noption is for you."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"uppy.use(RemoteSources, {\n\tcompanionUrl: 'https://your-companion-url',\n\tsources: ['Instagram', 'GoogleDrive', 'Unsplash', 'Url'],\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"companionurl",children:(0,s.jsx)(n.code,{children:"companionUrl"})}),"\n",(0,s.jsxs)(n.p,{children:["URL to a ",(0,s.jsx)(n.a,{href:"/docs/companion",children:"Companion"})," instance (",(0,s.jsx)(n.code,{children:"string"}),", default: ",(0,s.jsx)(n.code,{children:"null"}),")."]}),"\n",(0,s.jsx)(n.h4,{id:"companionheaders",children:(0,s.jsx)(n.code,{children:"companionHeaders"})}),"\n",(0,s.jsxs)(n.p,{children:["Custom headers that should be sent along to ",(0,s.jsx)(n.a,{href:"/docs/companion",children:"Companion"})," on\nevery request (",(0,s.jsx)(n.code,{children:"object"}),", default: ",(0,s.jsx)(n.code,{children:"{}"}),")."]}),"\n",(0,s.jsx)(n.h4,{id:"companionallowedhosts",children:(0,s.jsx)(n.code,{children:"companionAllowedHosts"})}),"\n",(0,s.jsxs)(n.p,{children:["The valid and authorized URL(s)/URL pattern(s) from which OAuth responses should\nbe accepted (",(0,s.jsx)(n.code,{children:"string | RegExp | Array<string | RegExp>"}),", Default:\n",(0,s.jsx)(n.code,{children:"companionUrl"}),")."]}),"\n",(0,s.jsxs)(n.p,{children:["This value can be a ",(0,s.jsx)(n.code,{children:"string"}),", a ",(0,s.jsx)(n.code,{children:"RegExp"})," object, or an array of both."]}),"\n",(0,s.jsxs)(n.p,{children:["This is useful when you have your ",(0,s.jsx)(n.a,{href:"/docs/companion",children:"Companion"})," running on\nseveral hosts. Otherwise, the default value, which is ",(0,s.jsx)(n.code,{children:"companionUrl"}),", should do\nfine."]}),"\n",(0,s.jsx)(n.h4,{id:"companioncookiesrule",children:(0,s.jsx)(n.code,{children:"companionCookiesRule"})}),"\n",(0,s.jsxs)(n.p,{children:["This option correlates to the ",(0,s.jsxs)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Request/credentials",children:[(0,s.jsx)(n.code,{children:"Request.credentials"})," value"]}),", which tells the plugin\nwhether to send cookies to ",(0,s.jsx)(n.a,{href:"/docs/companion",children:"Companion"})," (",(0,s.jsx)(n.code,{children:"string"}),", default: ",(0,s.jsx)(n.code,{children:"same-origin"}),")."]}),"\n",(0,s.jsx)(n.h4,{id:"target",children:(0,s.jsx)(n.code,{children:"target"})}),"\n",(0,s.jsxs)(n.p,{children:["DOM element, CSS selector, or plugin to place the drag and drop area into\n(",(0,s.jsx)(n.code,{children:"string"}),", ",(0,s.jsx)(n.code,{children:"Element"}),", ",(0,s.jsx)(n.code,{children:"Function"}),", or ",(0,s.jsx)(n.code,{children:"UIPlugin"}),", default:\n",(0,s.jsx)(n.a,{href:"/docs/dashboard",children:(0,s.jsx)(n.code,{children:"Dashboard"})}),")."]})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},65171:(e,n,o)=>{o.d(n,{A:()=>d});var s=o(96540),r=o(21432),i=o(27293),t=o(4476),a=o(74848);const{rE:l}=t;function d(e){let{children:n,uppyCssName:o="uppy.min.css",uppyJsName:t="uppy.min.mjs"}=e,d=[];s.Children.toArray(n).forEach((e=>{d=[...d,...String(e).trim().split("\n").map((e=>e.trim()))]}));const c=d.map((e=>`  ${e}`)).join("\n"),h=`https://releases.transloadit.com/uppy/v${l}/${t}`,p=`\x3c!-- 1. Add CSS to \`<head>\` --\x3e\n<link href="https://releases.transloadit.com/uppy/v${l}/${o}" rel="stylesheet">\n\n\x3c!-- 2. Initialize --\x3e\n<div id="uppy"></div>\n\n<script type="module">\n${c.replace(/{{UPPY_JS_URL}}/g,h)}\n<\/script>\n`;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.A,{type:"caution",children:[(0,a.jsx)("p",{children:"The bundle consists of most Uppy plugins, so this method is not recommended for production, as your users will have to download all plugins when you are likely using only a few."}),(0,a.jsx)("p",{children:"It can be useful to speed up your development environment, so don't hesitate to use it to get you started."})]}),(0,a.jsx)(r.A,{language:"html",children:p})]})}}}]);