/*! For license information please see 9526.94ea7ecb.js.LICENSE.txt */
(self.webpackChunkuppy_io=self.webpackChunkuppy_io||[]).push([[9526],{78505:e=>{"use strict";e.exports=function(e){if("number"!=typeof e||Number.isNaN(e))throw new TypeError("Expected a number, got "+typeof e);const t=e<0,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";const s=Math.min(Math.floor(Math.log(e)/Math.log(1024)),i.length-1);e=Number(e/1024**s);const o=i[s];return e>=10||e%1==0?`${(t?"-":"")+e.toFixed(0)} ${o}`:`${(t?"-":"")+e.toFixed(1)} ${o}`}},51873:(e,t,i)=>{var s=i(9325).Symbol;e.exports=s},72552:(e,t,i)=>{var s=i(51873),o=i(659),r=i(59350),n=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?o(e):r(e)}},54128:(e,t,i)=>{var s=i(31800),o=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(o,""):e}},34840:(e,t,i)=>{var s="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=s},659:(e,t,i)=>{var s=i(51873),o=Object.prototype,r=o.hasOwnProperty,n=o.toString,l=s?s.toStringTag:void 0;e.exports=function(e){var t=r.call(e,l),i=e[l];try{e[l]=void 0;var s=!0}catch(a){}var o=n.call(e);return s&&(t?e[l]=i:delete e[l]),o}},59350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9325:(e,t,i)=>{var s=i(34840),o="object"==typeof self&&self&&self.Object===Object&&self,r=s||o||Function("return this")();e.exports=r},31800:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},38221:(e,t,i)=>{var s=i(23805),o=i(10124),r=i(99374),n=Math.max,l=Math.min;e.exports=function(e,t,i){var a,u,d,c,p,h,f=0,_=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var i=a,s=u;return a=u=void 0,f=t,c=e.apply(s,i)}function y(e){var i=e-h;return void 0===h||i>=t||i<0||g&&e-f>=d}function w(){var e=o();if(y(e))return b(e);p=setTimeout(w,function(e){var i=t-(e-h);return g?l(i,d-(e-f)):i}(e))}function b(e){return p=void 0,m&&a?v(e):(a=u=void 0,c)}function S(){var e=o(),i=y(e);if(a=arguments,u=this,h=e,i){if(void 0===p)return function(e){return f=e,p=setTimeout(w,t),_?v(e):c}(h);if(g)return clearTimeout(p),p=setTimeout(w,t),v(h)}return void 0===p&&(p=setTimeout(w,t)),c}return t=r(t)||0,s(i)&&(_=!!i.leading,d=(g="maxWait"in i)?n(r(i.maxWait)||0,t):d,m="trailing"in i?!!i.trailing:m),S.cancel=function(){void 0!==p&&clearTimeout(p),f=0,a=h=u=p=void 0},S.flush=function(){return void 0===p?c:b(o())},S}},23805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},40346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},44394:(e,t,i)=>{var s=i(72552),o=i(40346);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==s(e)}},10124:(e,t,i)=>{var s=i(9325);e.exports=function(){return s.Date.now()}},7350:(e,t,i)=>{var s=i(38221),o=i(23805);e.exports=function(e,t,i){var r=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),s(e,t,{leading:r,maxWait:t,trailing:n})}},99374:(e,t,i)=>{var s=i(54128),o=i(23805),r=i(44394),n=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var i=l.test(e);return i||a.test(e)?u(e.slice(2),i?2:8):n.test(e)?NaN:+e}},37057:(e,t,i)=>{var s=i(27163),o=/[\/\+\.]/;e.exports=function(e,t){function i(t){var i=s(t,e,o);return i&&i.length>=2}return t?i(t.split(";")[0]):i}},33835:e=>{e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,i,s,o,r,n,l){var a=function(e){var i=t[e]?t[e]:[],s=e.indexOf(":"),o=-1===s?[e]:[e.substring(0,s),e.substring(s+1)],r=Object.keys(t),n=0,l=r.length;for(;n<l;n++){var a=r[n];if("*"===a&&(i=i.concat(t[a])),2===o.length&&o[0]===a){i=i.concat(t[a]);break}}return i}(e);a.length&&function(e,t,i){var s=0,o=t.length;for(;s<o&&t[s];s++)t[s].event=e,t[s].apply(t[s],i)}(e,a,[i,s,o,r,n,l])},e.on=function(e,i){t[e]||(t[e]=[]),t[e].push(i)},e.once=function(t,i){this.on(t,(function s(){i.apply(this,arguments),e.off(t,s)}))},e.off=function(e,t){var i=[];if(e&&t)for(var s=this._fns[e],o=0,r=s?s.length:0;o<r;o++)s[o]!==t&&i.push(s[o]);i.length?this._fns[e]=i:delete this._fns[e]},e}},50172:(e,t,i)=>{"use strict";i.d(t,{FK:()=>S,Ob:()=>H,XX:()=>D,_3:()=>b,fF:()=>o,h:()=>y,uA:()=>F,v2:()=>O});var s,o,r,n,l,a,u,d,c,p,h={},f=[],_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g=Array.isArray;function m(e,t){for(var i in t)e[i]=t[i];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,i){var o,r,n,l={};for(n in t)"key"==n?o=t[n]:"ref"==n?r=t[n]:l[n]=t[n];if(arguments.length>2&&(l.children=arguments.length>3?s.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===l[n]&&(l[n]=e.defaultProps[n]);return w(e,l,o,r,null)}function w(e,t,i,s,n){var l={type:e,props:t,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==n?++r:n,__i:-1,__u:0};return null==n&&null!=o.vnode&&o.vnode(l),l}function b(){return{current:null}}function S(e){return e.children}function F(e,t){this.props=e,this.context=t}function x(e,t){if(null==t)return e.__?x(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?x(e):null}function U(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return U(e)}}function A(e){(!e.__d&&(e.__d=!0)&&n.push(e)&&!k.__r++||l!==o.debounceRendering)&&((l=o.debounceRendering)||a)(k)}function k(){var e,t,i,s,r,l,a,d;for(n.sort(u);e=n.shift();)e.__d&&(t=n.length,s=void 0,l=(r=(i=e).__v).__e,a=[],d=[],i.__P&&((s=m({},r)).__v=r.__v+1,o.vnode&&o.vnode(s),M(i.__P,s,r,i.__n,i.__P.namespaceURI,32&r.__u?[l]:null,a,null==l?x(r):l,!!(32&r.__u),d),s.__v=r.__v,s.__.__k[s.__i]=s,R(a,s,d),s.__e!=l&&U(s)),n.length>t&&n.sort(u));k.__r=0}function P(e,t,i,s,o,r,n,l,a,u,d){var c,p,_,g,m,v=s&&s.__k||f,y=t.length;for(i.__d=a,T(i,t,v),a=i.__d,c=0;c<y;c++)null!=(_=i.__k[c])&&"boolean"!=typeof _&&"function"!=typeof _&&(p=-1===_.__i?h:v[_.__i]||h,_.__i=c,M(e,_,p,o,r,n,l,a,u,d),g=_.__e,_.ref&&p.ref!=_.ref&&(p.ref&&z(p.ref,null,_),d.push(_.ref,_.__c||g,_)),null==m&&null!=g&&(m=g),65536&_.__u||p.__k===_.__k?(a&&!a.isConnected&&(a=x(p)),a=E(_,a,e)):"function"==typeof _.type&&void 0!==_.__d?a=_.__d:g&&(a=g.nextSibling),_.__d=void 0,_.__u&=-196609);i.__d=a,i.__e=m}function T(e,t,i){var s,o,r,n,l,a=t.length,u=i.length,d=u,c=0;for(e.__k=[],s=0;s<a;s++)n=s+c,null!=(o=e.__k[s]=null==(o=t[s])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?w(null,o,null,null,null):g(o)?w(S,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?w(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=e,o.__b=e.__b+1,l=N(o,i,n,d),o.__i=l,r=null,-1!==l&&(d--,(r=i[l])&&(r.__u|=131072)),null==r||null===r.__v?(-1==l&&c--,"function"!=typeof o.type&&(o.__u|=65536)):l!==n&&(l===n+1?c++:l>n?d>a-n?c+=l-n:c--:l<n?l==n-1&&(c=l-n):c=0,l!==s+c&&(o.__u|=65536))):(r=i[n])&&null==r.key&&r.__e&&!(131072&r.__u)&&(r.__e==e.__d&&(e.__d=x(r)),q(r,r,!1),i[n]=null,d--);if(d)for(s=0;s<u;s++)null!=(r=i[s])&&!(131072&r.__u)&&(r.__e==e.__d&&(e.__d=x(r)),q(r,r))}function E(e,t,i){var s,o;if("function"==typeof e.type){for(s=e.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=e,t=E(s[o],t,i));return t}e.__e!=t&&(i.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function O(e,t){return t=t||[],null==e||"boolean"==typeof e||(g(e)?e.some((function(e){O(e,t)})):t.push(e)),t}function N(e,t,i,s){var o=e.key,r=e.type,n=i-1,l=i+1,a=t[i];if(null===a||a&&o==a.key&&r===a.type&&!(131072&a.__u))return i;if(s>(null==a||131072&a.__u?0:1))for(;n>=0||l<t.length;){if(n>=0){if((a=t[n])&&!(131072&a.__u)&&o==a.key&&r===a.type)return n;n--}if(l<t.length){if((a=t[l])&&!(131072&a.__u)&&o==a.key&&r===a.type)return l;l++}}return-1}function $(e,t,i){"-"===t[0]?e.setProperty(t,null==i?"":i):e[t]=null==i?"":"number"!=typeof i||_.test(t)?i:i+"px"}function C(e,t,i,s,o){var r;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof s&&(e.style.cssText=s=""),s)for(t in s)i&&t in i||$(e.style,t,"");if(i)for(t in i)s&&i[t]===s[t]||$(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=i,i?s?i.u=s.u:(i.u=d,e.addEventListener(t,r?p:c,r)):e.removeEventListener(t,r?p:c,r);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null==i||!1===i&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,i))}}function I(e){return function(t){if(this.l){var i=this.l[t.type+e];if(null==t.t)t.t=d++;else if(t.t<i.u)return;return i(o.event?o.event(t):t)}}}function M(e,t,i,s,r,n,l,a,u,d){var c,p,h,f,_,v,y,w,b,x,U,A,k,T,E,O=t.type;if(void 0!==t.constructor)return null;128&i.__u&&(u=!!(32&i.__u),n=[a=t.__e=i.__e]),(c=o.__b)&&c(t);e:if("function"==typeof O)try{if(w=t.props,b=(c=O.contextType)&&s[c.__c],x=c?b?b.props.value:c.__:s,i.__c?y=(p=t.__c=i.__c).__=p.__E:("prototype"in O&&O.prototype.render?t.__c=p=new O(w,x):(t.__c=p=new F(w,x),p.constructor=O,p.render=L),b&&b.sub(p),p.props=w,p.state||(p.state={}),p.context=x,p.__n=s,h=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=O.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=m({},p.__s)),m(p.__s,O.getDerivedStateFromProps(w,p.__s))),f=p.props,_=p.state,p.__v=t,h)null==O.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==O.getDerivedStateFromProps&&w!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,x),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,x)||t.__v===i.__v)){for(t.__v!==i.__v&&(p.props=w,p.state=p.__s,p.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),U=0;U<p._sb.length;U++)p.__h.push(p._sb[U]);p._sb=[],p.__h.length&&l.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,x),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(f,_,v)}))}if(p.context=x,p.props=w,p.__P=e,p.__e=!1,A=o.__r,k=0,"prototype"in O&&O.prototype.render){for(p.state=p.__s,p.__d=!1,A&&A(t),c=p.render(p.props,p.state,p.context),T=0;T<p._sb.length;T++)p.__h.push(p._sb[T]);p._sb=[]}else do{p.__d=!1,A&&A(t),c=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++k<25);p.state=p.__s,null!=p.getChildContext&&(s=m(m({},s),p.getChildContext())),h||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(f,_)),P(e,g(E=null!=c&&c.type===S&&null==c.key?c.props.children:c)?E:[E],t,i,s,r,n,l,a,u,d),p.base=t.__e,t.__u&=-161,p.__h.length&&l.push(p),y&&(p.__E=p.__=null)}catch(e){t.__v=null,u||null!=n?(t.__e=a,t.__u|=u?160:32,n[n.indexOf(a)]=null):(t.__e=i.__e,t.__k=i.__k),o.__e(e,t,i)}else null==n&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=j(i.__e,t,i,s,r,n,l,u,d);(c=o.diffed)&&c(t)}function R(e,t,i){t.__d=void 0;for(var s=0;s<i.length;s++)z(i[s],i[++s],i[++s]);o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function j(e,t,i,o,r,n,l,a,u){var d,c,p,f,_,m,y,w=i.props,b=t.props,S=t.type;if("svg"===S?r="http://www.w3.org/2000/svg":"math"===S?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),null!=n)for(d=0;d<n.length;d++)if((_=n[d])&&"setAttribute"in _==!!S&&(S?_.localName===S:3===_.nodeType)){e=_,n[d]=null;break}if(null==e){if(null===S)return document.createTextNode(b);e=document.createElementNS(r,S,b.is&&b),n=null,a=!1}if(null===S)w===b||a&&e.data===b||(e.data=b);else{if(n=n&&s.call(e.childNodes),w=i.props||h,!a&&null!=n)for(w={},d=0;d<e.attributes.length;d++)w[(_=e.attributes[d]).name]=_.value;for(d in w)if(_=w[d],"children"==d);else if("dangerouslySetInnerHTML"==d)p=_;else if("key"!==d&&!(d in b)){if("value"==d&&"defaultValue"in b||"checked"==d&&"defaultChecked"in b)continue;C(e,d,null,_,r)}for(d in b)_=b[d],"children"==d?f=_:"dangerouslySetInnerHTML"==d?c=_:"value"==d?m=_:"checked"==d?y=_:"key"===d||a&&"function"!=typeof _||w[d]===_||C(e,d,_,w[d],r);if(c)a||p&&(c.__html===p.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(p&&(e.innerHTML=""),P(e,g(f)?f:[f],t,i,o,"foreignObject"===S?"http://www.w3.org/1999/xhtml":r,n,l,n?n[0]:i.__k&&x(i,0),a,u),null!=n)for(d=n.length;d--;)null!=n[d]&&v(n[d]);a||(d="value",void 0!==m&&(m!==e[d]||"progress"===S&&!m||"option"===S&&m!==w[d])&&C(e,d,m,w[d],r),d="checked",void 0!==y&&y!==e[d]&&C(e,d,y,w[d],r))}return e}function z(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,i)}}function q(e,t,i){var s,r;if(o.unmount&&o.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||z(s,null,t)),null!=(s=e.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){o.__e(e,t)}s.base=s.__P=null}if(s=e.__k)for(r=0;r<s.length;r++)s[r]&&q(s[r],t,i||"function"!=typeof e.type);i||null==e.__e||v(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function L(e,t,i){return this.constructor(e,i)}function D(e,t,i){var r,n,l,a;o.__&&o.__(e,t),n=(r="function"==typeof i)?null:i&&i.__k||t.__k,l=[],a=[],M(t,e=(!r&&i||t).__k=y(S,null,[e]),n||h,h,t.namespaceURI,!r&&i?[i]:n?null:t.firstChild?s.call(t.childNodes):null,l,!r&&i?i:n?n.__e:t.firstChild,r,a),R(l,e,a)}function H(e,t,i){var o,r,n,l,a=m({},e.props);for(n in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)"key"==n?o=t[n]:"ref"==n?r=t[n]:a[n]=void 0===t[n]&&void 0!==l?l[n]:t[n];return arguments.length>2&&(a.children=arguments.length>3?s.call(arguments,2):i),w(e.type,a,o||e.key,r||e.ref,null)}s=f.slice,o={__e:function(e,t,i,s){for(var o,r,n;t=t.__;)if((o=t.__c)&&!o.__)try{if((r=o.constructor)&&null!=r.getDerivedStateFromError&&(o.setState(r.getDerivedStateFromError(e)),n=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,s||{}),n=o.__d),n)return o.__E=o}catch(t){e=t}throw e}},r=0,F.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},i),this.props)),e&&m(i,e),null!=e&&this.__v&&(t&&this._sb.push(t),A(this))},F.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),A(this))},F.prototype.render=S,n=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},k.__r=0,d=0,c=I(!1),p=I(!0)},45994:(e,t,i)=>{"use strict";i.d(t,{J0:()=>y,Kr:()=>S,hb:()=>F,li:()=>b,vJ:()=>w});var s,o,r,n,l=i(50172),a=0,u=[],d=[],c=l.fF,p=c.__b,h=c.__r,f=c.diffed,_=c.__c,g=c.unmount,m=c.__;function v(e,t){c.__h&&c.__h(o,e,a||t),a=0;var i=o.__H||(o.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({__V:d}),i.__[e]}function y(e){return a=1,function(e,t,i){var r=v(s++,2);if(r.t=e,!r.__c&&(r.__=[i?i(t):E(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],i=r.t(t,e);t!==i&&(r.__N=[i,r.__[1]],r.__c.setState({}))}],r.__c=o,!o.u)){var n=function(e,t,i){if(!r.__c.__H)return!0;var s=r.__c.__H.__.filter((function(e){return!!e.__c}));if(s.every((function(e){return!e.__N})))return!l||l.call(this,e,t,i);var o=!1;return s.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&r.__c.props===e)&&(!l||l.call(this,e,t,i))};o.u=!0;var l=o.shouldComponentUpdate,a=o.componentWillUpdate;o.componentWillUpdate=function(e,t,i){if(this.__e){var s=l;l=void 0,n(e,t,i),l=s}a&&a.call(this,e,t,i)},o.shouldComponentUpdate=n}return r.__N||r.__}(E,e)}function w(e,t){var i=v(s++,3);!c.__s&&T(i.__H,t)&&(i.__=e,i.i=t,o.__H.__h.push(i))}function b(e){return a=5,S((function(){return{current:e}}),[])}function S(e,t){var i=v(s++,7);return T(i.__H,t)?(i.__V=e(),i.i=t,i.__h=e,i.__V):i.__}function F(e,t){return a=8,S((function(){return e}),t)}function x(){for(var e;e=u.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(k),e.__H.__h.forEach(P),e.__H.__h=[]}catch(s){e.__H.__h=[],c.__e(s,e.__v)}}c.__b=function(e){o=null,p&&p(e)},c.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),m&&m(e,t)},c.__r=function(e){h&&h(e),s=0;var t=(o=e.__c).__H;t&&(r===o?(t.__h=[],o.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=d,e.__N=e.i=void 0}))):(t.__h.forEach(k),t.__h.forEach(P),t.__h=[],s=0)),r=o},c.diffed=function(e){f&&f(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==u.push(t)&&n===c.requestAnimationFrame||((n=c.requestAnimationFrame)||A)(x)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==d&&(e.__=e.__V),e.i=void 0,e.__V=d}))),r=o=null},c.__c=function(e,t){t.some((function(e){try{e.__h.forEach(k),e.__h=e.__h.filter((function(e){return!e.__||P(e)}))}catch(o){t.some((function(e){e.__h&&(e.__h=[])})),t=[],c.__e(o,e.__v)}})),_&&_(e,t)},c.unmount=function(e){g&&g(e);var t,i=e.__c;i&&i.__H&&(i.__H.__.forEach((function(e){try{k(e)}catch(e){t=e}})),i.__H=void 0,t&&c.__e(t,i.__v))};var U="function"==typeof requestAnimationFrame;function A(e){var t,i=function(){clearTimeout(s),U&&cancelAnimationFrame(t),setTimeout(e)},s=setTimeout(i,100);U&&(t=requestAnimationFrame(i))}function k(e){var t=o,i=e.__c;"function"==typeof i&&(e.__c=void 0,i()),o=t}function P(e){var t=o;e.__c=e.__(),o=t}function T(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function E(e,t){return"function"==typeof t?t(e):t}},10201:(e,t,i)=>{"use strict";i.d(t,{FD:()=>r,FK:()=>s.FK,Y:()=>r});var s=i(50172);var o=0;Array.isArray;function r(e,t,i,r,n,l){t||(t={});var a,u,d=t;if("ref"in d)for(u in d={},t)"ref"==u?a=t[u]:d[u]=t[u];var c={type:e,props:d,key:i,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--o,__i:-1,__u:0,__source:n,__self:l};if("function"==typeof e&&(a=e.defaultProps))for(u in a)void 0===d[u]&&(d[u]=a[u]);return s.fF.vnode&&s.fF.vnode(c),c}},27163:e=>{"use strict";function t(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}t.prototype.match=function(e){var t,i,s=!0,o=this.parts,r=o.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(i=(e||"").split(this.separator),t=0;s&&t<r;t++)"*"!==o[t]&&(s=t<i.length&&o[t]===i[t]);s=s&&i}else s=!1;else if("function"==typeof e.splice)for(s=[],t=e.length;t--;)this.match(e[t])&&(s[s.length]=e[t]);else if("object"==typeof e)for(var n in s={},e)this.match(n)&&(s[n]=e[n]);return s},e.exports=function(e,i,s){var o=new t(e,s||/[\/\.]/);return void 0!==i?o.match(i):o}},41449:(e,t,i)=>{"use strict";i.d(t,{A:()=>A});const s="5.0.0";const o=class{static VERSION=s;state={};#e=new Set;getState(){return this.state}setState(e){const t={...this.state},i={...this.state,...e};this.state=i,this.#t(t,i,e)}subscribe(e){return this.#e.add(e),()=>{this.#e.delete(e)}}#t(...e){this.#e.forEach((t=>{t(...e)}))}};var r=i(60720),n=i(38638),l=i(78287),a=i(61734),u=i(7350),d=i(33835),c=i(8423);const p="5.0.1";const h={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function f(e){return e<10?`0${e}`:e.toString()}function _(){const e=new Date;return`${f(e.getHours())}:${f(e.getMinutes())}:${f(e.getSeconds())}`}const g={debug:()=>{},warn:()=>{},error:(...e)=>console.error(`[Uppy] [${_()}]`,...e)},m={debug:(...e)=>console.debug(`[Uppy] [${_()}]`,...e),warn:(...e)=>console.warn(`[Uppy] [${_()}]`,...e),error:(...e)=>console.error(`[Uppy] [${_()}]`,...e)};var v=i(78505),y=i(37057);const w={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class b extends Error{isUserFacing;file;constructor(e,t){super(e),this.isUserFacing=t?.isUserFacing??!0,t?.file&&(this.file=t.file)}isRestriction=!0}class S{getI18n;getOpts;constructor(e,t){this.getI18n=t,this.getOpts=()=>{const t=e();if(null!=t.restrictions?.allowedFileTypes&&!Array.isArray(t.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return t}}validateAggregateRestrictions(e,t){const{maxTotalFileSize:i,maxNumberOfFiles:s}=this.getOpts().restrictions;if(s){if(e.filter((e=>!e.isGhost)).length+t.length>s)throw new b(`${this.getI18n()("youCanOnlyUploadX",{smart_count:s})}`)}if(i){const s=[...e,...t].reduce(((e,t)=>e+(t.size??0)),0);if(s>i)throw new b(this.getI18n()("aggregateExceedsSize",{sizeAllowed:v(i),size:v(s)}))}}validateSingleFile(e){const{maxFileSize:t,minFileSize:i,allowedFileTypes:s}=this.getOpts().restrictions;if(s){if(!s.some((t=>t.includes("/")?!!e.type&&y(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase()))){const t=s.join(", ");throw new b(this.getI18n()("youCanOnlyUploadFileTypes",{types:t}),{file:e})}}if(t&&null!=e.size&&e.size>t)throw new b(this.getI18n()("exceedsSize",{size:v(t),file:e.name??this.getI18n()("unnamed")}),{file:e});if(i&&null!=e.size&&e.size<i)throw new b(this.getI18n()("inferiorSize",{size:v(i)}),{file:e})}validate(e,t){t.forEach((e=>{this.validateSingleFile(e)})),this.validateAggregateRestrictions(e,t)}validateMinNumberOfFiles(e){const{minNumberOfFiles:t}=this.getOpts().restrictions;if(t&&Object.keys(e).length<t)throw new b(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:t}))}getMissingRequiredMetaFields(e){const t=new b(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:i}=this.getOpts().restrictions,s=[];for(const o of i)Object.hasOwn(e.meta,o)&&""!==e.meta[o]||s.push(o);return{missingFields:s,error:t}}}function F(e){if(null==e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const i=t[1].split(".",2),s=parseInt(i[0],10),o=parseInt(i[1],10);return s<15||15===s&&o<15063||(s>18||18===s&&o>=18218)}const x={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};class U{static VERSION=p;#i=Object.create(null);#s;#o;#r=d();#n=new Set;#l=new Set;#a=new Set;defaultLocale;locale;opts;store;i18n;i18nArray;scheduledAutoProceed=null;wasOffline=!1;constructor(e){this.defaultLocale=h;const t={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:w,meta:{},onBeforeFileAdded:(e,t)=>!Object.hasOwn(t,e.id),onBeforeUpload:e=>e,store:new o,logger:g,infoTimeout:5e3},i={...t,...e};this.opts={...i,restrictions:{...t.restrictions,...e?.restrictions}},e?.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e?.debug&&(this.opts.logger=m),this.log(`Using Core v${U.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...x,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:F(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),this.#s=new S((()=>this.opts),(()=>this.i18n)),this.#o=this.store.subscribe(((e,t,i)=>{this.emit("state-update",e,t,i),this.updateAll(t)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),this.#u()}emit(e,...t){this.#r.emit(e,...t)}on(e,t){return this.#r.on(e,t),this}once(e,t){return this.#r.once(e,t),this}off(e,t){return this.#r.off(e,t),this}updateAll(e){this.iteratePlugins((t=>{t.update(e)}))}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const t=this.getState().files;this.setState({files:{...t,...Object.fromEntries(Object.entries(e).map((([e,i])=>[e,{...t[e],...i}])))}})}setFileState(e,t){if(!this.getState().files[e])throw new Error(`Can\u2019t set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:t})}i18nInit(){const e=new r.A([this.defaultLocale,this.opts.locale],{onMissingKey:e=>this.log(`Missing i18n string: ${e}`,"error")});this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.locale=e.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e?.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((t=>{t.setOptions(e)})),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},t={...this.getState().files},i=Object.create(null);Object.keys(t).forEach((s=>{i[s]={...t[s],progress:{...t[s].progress,...e},tus:void 0,transloadit:void 0}})),this.setState({files:i,...x})}clear(){const{capabilities:e,currentUploads:t}=this.getState();if(Object.keys(t).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...x,files:{}})}addPreProcessor(e){this.#n.add(e)}removePreProcessor(e){return this.#n.delete(e)}addPostProcessor(e){this.#a.add(e)}removePostProcessor(e){return this.#a.delete(e)}addUploader(e){this.#l.add(e)}removeUploader(e){return this.#l.delete(e)}setMeta(e){const t={...this.getState().meta,...e},i={...this.getState().files};Object.keys(i).forEach((t=>{i[t]={...i[t],meta:{...i[t].meta,...e}}})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:i})}setFileMeta(e,t){const i={...this.getState().files};if(!i[e])return void this.log(`Was trying to set metadata for a file that has been removed: ${e}`);const s={...i[e].meta,...t};i[e]={...i[e],meta:s},this.setState({files:i})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map((e=>this.getFile(e)))}getObjectOfFilesPerState(){const{files:e,totalProgress:t,error:i}=this.getState(),s=Object.values(e),o=[],r=[],n=[],l=[],a=[],u=[],d=[],c=[],p=[];for(const h of s){const{progress:e}=h;!e.uploadComplete&&e.uploadStarted&&(o.push(h),h.isPaused||c.push(h)),e.uploadStarted||r.push(h),(e.uploadStarted||e.preprocess||e.postprocess)&&n.push(h),e.uploadStarted&&l.push(h),h.isPaused&&a.push(h),e.uploadComplete&&u.push(h),h.error&&d.push(h),(e.preprocess||e.postprocess)&&p.push(h)}return{newFiles:r,startedFiles:n,uploadStartedFiles:l,pausedFiles:a,completeFiles:u,erroredFiles:d,inProgressFiles:o,inProgressNotPausedFiles:c,processingFiles:p,isUploadStarted:l.length>0,isAllComplete:100===t&&u.length===s.length&&0===p.length,isAllErrored:!!i&&d.length===s.length,isAllPaused:0!==o.length&&a.length===o.length,isUploadInProgress:o.length>0,isSomeGhost:s.some((e=>e.isGhost))}}#d(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const t=e.filter((e=>e.isUserFacing)),i=t.slice(0,4),s=t.slice(4);i.forEach((({message:e,details:t=""})=>{this.info({message:e,details:t},"error",this.opts.infoTimeout)})),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})}validateRestrictions(e,t=this.getFiles()){try{this.#s.validate(t,[e])}catch(i){return i}return null}validateSingleFile(e){try{this.#s.validateSingleFile(e)}catch(t){return t.message}return null}validateAggregateRestrictions(e){const t=this.getFiles();try{this.#s.validateAggregateRestrictions(t,e)}catch(i){return i.message}return null}#c(e){const{missingFields:t,error:i}=this.#s.getMissingRequiredMetaFields(e);return t.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:t,error:i.message}),this.log(i.message),this.emit("restriction-failed",e,i),!1):(0===t.length&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)}#p(e){let t=!0;for(const i of Object.values(e))this.#c(i)||(t=!1);return t}#h(e){const{allowNewUpload:t}=this.getState();if(!1===t){const t=new b(this.i18n("noMoreFilesAllowed"),{file:e});throw this.#d([t]),t}}checkIfFileAlreadyExists(e){const{files:t}=this.getState();return!(!t[e]||t[e].isGhost)}#f(e){const t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,i=(0,n.A)(t),s=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}(i,t),o=(0,l.A)(s).extension,r=(0,a.N)(t,this.getID()),u=t.meta||{};u.name=s,u.type=i;const d=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:r,name:s,extension:o||"",meta:{...this.getState().meta,...u},type:i,data:t.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:d,uploadComplete:!1,uploadStarted:null},size:d,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote,preview:t.preview}}#_(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((()=>{this.scheduledAutoProceed=null,this.upload().catch((e=>{e.isRestriction||this.log(e.stack||e.message||e)}))}),4))}#g(e){let{files:t}=this.getState(),i={...t};const s=[],o=[];for(const n of e)try{let e=this.#f(n);const o=t[e.id]?.isGhost;if(o){e={...t[e.id],isGhost:!1,data:n.data},this.log(`Replaced the blob in the restored ghost file: ${e.name}, ${e.id}`)}const r=this.opts.onBeforeFileAdded(e,i);if(t=this.getState().files,i={...t,...i},!r&&this.checkIfFileAlreadyExists(e.id))throw new b(this.i18n("noDuplicates",{fileName:e.name??this.i18n("unnamed")}),{file:n});if(!1===r&&!o)throw new b("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:n});"object"==typeof r&&null!==r&&(e=r),this.#s.validateSingleFile(e),i[e.id]=e,s.push(e)}catch(r){o.push(r)}try{this.#s.validateAggregateRestrictions(Object.values(t),s)}catch(r){return o.push(r),{nextFilesState:t,validFilesToAdd:[],errors:o}}return{nextFilesState:i,validFilesToAdd:s,errors:o}}addFile(e){this.#h(e);const{nextFilesState:t,validFilesToAdd:i,errors:s}=this.#g([e]),o=s.filter((e=>e.isRestriction));if(this.#d(o),s.length>0)throw s[0];this.setState({files:t});const[r]=i;return this.emit("file-added",r),this.emit("files-added",i),this.log(`Added file: ${r.name}, ${r.id}, mime type: ${r.type}`),this.#_(),r.id}addFiles(e){this.#h();const{nextFilesState:t,validFilesToAdd:i,errors:s}=this.#g(e),o=s.filter((e=>e.isRestriction));this.#d(o);const r=s.filter((e=>!e.isRestriction));if(r.length>0){let e="Multiple errors occurred while adding files:\n";if(r.forEach((t=>{e+=`\n * ${t.message}`})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:r.length}),details:e},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(r,e);{const t=new Error(e);throw t.errors=r,t}}this.setState({files:t}),i.forEach((e=>{this.emit("file-added",e)})),this.emit("files-added",i),i.length>5?this.log(`Added batch of ${i.length} files`):Object.values(i).forEach((e=>{this.log(`Added file: ${e.name}\n id: ${e.id}\n type: ${e.type}`)})),i.length>0&&this.#_()}removeFiles(e){const{files:t,currentUploads:i}=this.getState(),s={...t},o={...i},r=Object.create(null);function n(e){return void 0===r[e]}e.forEach((e=>{t[e]&&(r[e]=t[e],delete s[e])})),Object.keys(o).forEach((e=>{const t=i[e].fileIDs.filter(n);if(0===t.length)return void delete o[e];const{capabilities:s}=this.getState();if(t.length!==i[e].fileIDs.length&&!s.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");o[e]={...i[e],fileIDs:t}}));const l={currentUploads:o,files:s};0===Object.keys(s).length&&(l.allowNewUpload=!0,l.error=null,l.recoveredState=null),this.setState(l),this.#m();const a=Object.keys(r);a.forEach((e=>{this.emit("file-removed",r[e])})),a.length>5?this.log(`Removed ${a.length} files`):this.log(`Removed files: ${a.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const t=this.getFile(e),i=!(t.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",t,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter((t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted)).forEach((t=>{const i={...e[t],isPaused:!0};e[t]=i})),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter((t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted)).forEach((t=>{const i={...e[t],isPaused:!1,error:null};e[t]=i})),this.setState({files:e}),this.emit("resume-all")}#v(){const{files:e}=this.getState();return Object.keys(e).filter((t=>{const i=e[t];return i.error&&(!i.missingRequiredMetaFields||0===i.missingRequiredMetaFields.length)}))}async#y(){const e=this.#v(),t={...this.getState().files};if(e.forEach((e=>{t[e]={...t[e],isPaused:!1,error:null}})),this.setState({files:t,error:null}),this.emit("retry-all",this.getFilesByIds(e)),0===e.length)return{successful:[],failed:[]};const i=this.#w(e,{forceAllowNewUpload:!0});return this.#b(i)}async retryAll(){const e=await this.#y();return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),t=Object.keys(e);t.length&&this.removeFiles(t),this.setState(x)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const t=this.#w([e],{forceAllowNewUpload:!0});return this.#b(t)}logout(){this.iteratePlugins((e=>{e.provider?.logout?.()}))}#S=(e,t)=>{const i=e?this.getFile(e.id):void 0;if(null==e||!i)return void this.log(`Not setting progress for a file that has been removed: ${e?.id}`);if(100===i.progress.percentage)return void this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);const s={bytesTotal:t.bytesTotal,percentage:null!=t.bytesTotal&&Number.isFinite(t.bytesTotal)&&t.bytesTotal>0?Math.round(t.bytesUploaded/t.bytesTotal*100):void 0};null!=i.progress.uploadStarted?this.setFileState(e.id,{progress:{...i.progress,...s,bytesUploaded:t.bytesUploaded}}):this.setFileState(e.id,{progress:{...i.progress,...s}}),this.#m()};#F(){const e=this.#x();let t=null;null!=e&&(t=Math.round(100*e),t>100?t=100:t<0&&(t=0)),this.emit("progress",t??0),this.setState({totalProgress:t??0})}#m=u((()=>this.#F()),500,{leading:!0,trailing:!0});[Symbol.for("uppy test: updateTotalProgress")](){return this.#F()}#x(){const e=this.getFiles().filter((e=>e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess));if(0===e.length)return 0;if(e.every((e=>e.progress.uploadComplete)))return 1;const t=e=>null!=e.progress.bytesTotal&&0!==e.progress.bytesTotal,i=e.filter(t),s=e.filter((e=>!t(e)));if(i.every((e=>e.progress.uploadComplete))&&s.length>0&&!s.every((e=>e.progress.uploadComplete)))return null;const o=i.reduce(((e,t)=>e+(t.progress.bytesTotal??0)),0),r=i.reduce(((e,t)=>e+(t.progress.bytesUploaded||0)),0);return 0===o?0:r/o}#u(){const e=(e,t,i)=>{let s=e.message||"Unknown error";e.details&&(s+=` ${e.details}`),this.setState({error:s}),null!=t&&t.id in this.getState().files&&this.setFileState(t.id,{error:s,response:i})};this.on("error",e),this.on("upload-error",((t,i,s)=>{if(e(i,t,s),"object"==typeof i&&i.message){this.log(i.message,"error");const e=new Error(this.i18n("failedToUpload",{file:t?.name??""}));e.isUserFacing=!0,e.details=i.message,i.details&&(e.details+=` ${i.details}`),this.#d([e])}else this.#d([i])}));let t=null;this.on("upload-stalled",((e,i)=>{const{message:s}=e,o=i.map((e=>e.meta.name)).join(", ");t||(this.info({message:s,details:o},"warning",this.opts.infoTimeout),t=setTimeout((()=>{t=null}),this.opts.infoTimeout)),this.log(`${s} ${o}`.trim(),"warning")})),this.on("upload",(()=>{this.setState({error:null})}));this.on("upload-start",(e=>{const t=e.filter((e=>{const t=null!=e&&this.getFile(e.id);return t||this.log(`Not setting progress for a file that has been removed: ${e?.id}`),t})),i=Object.fromEntries(t.map((e=>[e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:e.size}}])));this.patchFilesState(i)})),this.on("upload-progress",this.#S),this.on("upload-success",((e,t)=>{if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e?.id}`);const i=this.getFile(e.id).progress;this.setFileState(e.id,{progress:{...i,postprocess:this.#a.size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:i.bytesTotal},response:t,uploadURL:t.uploadURL,isPaused:!1}),null==e.size&&this.setFileState(e.id,{size:t.bytesUploaded||i.bytesTotal}),this.#m()})),this.on("preprocess-progress",((e,t)=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:{...this.getFile(e.id).progress,preprocess:t}}):this.log(`Not setting progress for a file that has been removed: ${e?.id}`)})),this.on("preprocess-complete",(e=>{if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e?.id}`);const t={...this.getState().files};t[e.id]={...t[e.id],progress:{...t[e.id].progress}},delete t[e.id].progress.preprocess,this.setState({files:t})})),this.on("postprocess-progress",((e,t)=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:{...this.getState().files[e.id].progress,postprocess:t}}):this.log(`Not setting progress for a file that has been removed: ${e?.id}`)})),this.on("postprocess-complete",(e=>{if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e?.id}`);const t={...this.getState().files};t[e.id]={...t[e.id],progress:{...t[e.id].progress}},delete t[e.id].progress.postprocess,this.setState({files:t})})),this.on("restored",(()=>{this.#m()})),this.on("dashboard:file-edit-complete",(e=>{e&&this.#c(e)})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",this.#U),window.addEventListener("offline",this.#U),setTimeout(this.#U,3e3))}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}#U=this.updateOnlineStatus.bind(this);getID(){return this.opts.id}use(e,...t){if("function"!=typeof e){throw new TypeError(`Expected a plugin class, but got ${null===e?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`)}const i=new e(this,...t),s=i.id;if(!s)throw new Error("Your plugin must have an id");if(!i.type)throw new Error("Your plugin must have a type");const o=this.getPlugin(s);if(o){const e=`Already found a plugin named '${o.id}'. Tried to use: '${s}'.\nUppy plugins must have unique \`id\` options.`;throw new Error(e)}return e.VERSION&&this.log(`Using ${s} v${e.VERSION}`),i.type in this.#i?this.#i[i.type].push(i):this.#i[i.type]=[i],i.install(),this.emit("plugin-added",i),this}getPlugin(e){for(const t of Object.values(this.#i)){const i=t.find((t=>t.id===e));if(null!=i)return i}}[Symbol.for("uppy test: getPlugins")](e){return this.#i[e]}iteratePlugins(e){Object.values(this.#i).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const t=this.#i[e.type],i=t.findIndex((t=>t.id===e.id));-1!==i&&t.splice(i,1);const s={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(s)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),this.#o(),this.iteratePlugins((e=>{this.removePlugin(e)})),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",this.#U),window.removeEventListener("offline",this.#U))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,t="info",i=3e3){const s="object"==typeof e;this.setState({info:[...this.getState().info,{type:t,message:s?e.message:e,details:s?e.details:null}]}),setTimeout((()=>this.hideInfo()),i),this.emit("info-visible")}log(e,t){const{logger:i}=this.opts;switch(t){case"error":i.error(e);break;case"warning":i.warn(e);break;default:i.debug(e)}}#A=new Map;registerRequestClient(e,t){this.#A.set(e,t)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const t=this.#A.get(e.remote.requestClientId);if(null==t)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return t}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?this.#b(e):(this.#k(e),Promise.reject(new Error("Nonexistent upload")))}#w(e,t={}){const{forceAllowNewUpload:i=!1}=t,{allowNewUpload:s,currentUploads:o}=this.getState();if(!s&&!i)throw new Error("Cannot create a new upload: already uploading.");const r=(0,c.A)();return this.emit("upload",r,this.getFilesByIds(e)),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:{...o,[r]:{fileIDs:e,step:0,result:{}}}}),r}[Symbol.for("uppy test: createUpload")](...e){return this.#w(...e)}#P(e){const{currentUploads:t}=this.getState();return t[e]}addResultData(e,t){if(!this.#P(e))return void this.log(`Not setting result for an upload that has been removed: ${e}`);const{currentUploads:i}=this.getState(),s={...i[e],result:{...i[e].result,...t}};this.setState({currentUploads:{...i,[e]:s}})}#k(e){const t={...this.getState().currentUploads};delete t[e],this.setState({currentUploads:t})}async#b(e){const t=()=>{const{currentUploads:t}=this.getState();return t[e]};let i=t();const s=[...this.#n,...this.#l,...this.#a];try{for(let o=i.step||0;o<s.length&&i;o++){const r=s[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...i,step:o}}});const{fileIDs:n}=i;await r(n,e),i=t()}}catch(r){throw this.#k(e),r}if(i){i.fileIDs.forEach((e=>{const t=this.getFile(e);t?.progress.postprocess&&this.emit("postprocess-complete",t)}));const s=i.fileIDs.map((e=>this.getFile(e))),o=s.filter((e=>!e.error)),r=s.filter((e=>e.error));this.addResultData(e,{successful:o,failed:r,uploadID:e}),i=t()}let o;return i&&(o=i.result,this.#k(e)),null==o&&(this.log(`Not setting result for an upload that has been removed: ${e}`),o={successful:[],failed:[],uploadID:e}),o}async upload(){this.#i.uploader?.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(this.#v().length>0){const t=await this.#y();if(!(this.getFiles().filter((e=>null==e.progress.uploadStarted)).length>0))return this.emit("complete",t),t;({files:e}=this.getState())}const t=this.opts.onBeforeUpload(e);return!1===t?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(t&&"object"==typeof t&&(e=t,this.setState({files:e})),Promise.resolve().then((()=>this.#s.validateMinNumberOfFiles(e))).catch((e=>{throw this.#d([e]),e})).then((()=>{if(!this.#p(e))throw new b(this.i18n("missingRequiredMetaField"))})).catch((e=>{throw e})).then((async()=>{const{currentUploads:t}=this.getState(),i=Object.values(t).flatMap((e=>e.fileIDs)),s=[];Object.keys(e).forEach((e=>{const t=this.getFile(e);t.progress.uploadStarted||-1!==i.indexOf(e)||s.push(t.id)}));const o=this.#w(s),r=await this.#b(o);return this.emit("complete",r),r})).catch((e=>{throw this.emit("error",e),this.log(e,"error"),e})))}}const A=U},60720:(e,t,i)=>{"use strict";function s(e,t,i){const s=[];return e.forEach((e=>"string"!=typeof e?s.push(e):t[Symbol.split](e).forEach(((e,t,o)=>{""!==e&&s.push(e),t<o.length-1&&s.push(i)})))),s}function o(e,t){const i=/\$/g;let o=[e];if(null==t)return o;for(const r of Object.keys(t))if("_"!==r){let e=t[r];"string"==typeof e&&(e=i[Symbol.replace](e,"$$$$")),o=s(o,new RegExp(`%\\{${r}\\}`,"g"),e)}return o}i.d(t,{A:()=>n});const r=e=>{throw new Error(`missing string: ${e}`)};class n{locale;constructor(e,{onMissingKey:t=r}={}){this.locale={strings:{},pluralize:e=>1===e?0:1},Array.isArray(e)?e.forEach(this.#T,this):this.#T(e),this.#E=t}#E;#T(e){if(!e?.strings)return;const t=this.locale;Object.assign(this.locale,{strings:{...t.strings,...e.strings},pluralize:e.pluralize||t.pluralize})}translate(e,t){return this.translateArray(e,t).join("")}translateArray(e,t){let i=this.locale.strings[e];null==i&&(this.#E(e),i=e);if("object"==typeof i){if(t&&void 0!==t.smart_count){return o(i[this.locale.pluralize(t.smart_count)],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof i)throw new Error("string was not a string");return o(i,t)}}},61734:(e,t,i)=>{"use strict";i.d(t,{N:()=>r});var s=i(38638);function o(e){let t="";return e.replace(/[^A-Z0-9]/gi,(e=>(t+=`-${function(e){return e.charCodeAt(0).toString(32)}(e)}`,"/")))+t}function r(e,t){if(function(e){return!(!e.isRemote||!e.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}(e))return e.id;const i=(0,s.A)(e);return function(e,t){let i=t||"uppy";return"string"==typeof e.name&&(i+=`-${o(e.name.toLowerCase())}`),void 0!==e.type&&(i+=`-${e.type}`),e.meta&&"string"==typeof e.meta.relativePath&&(i+=`-${o(e.meta.relativePath.toLowerCase())}`),void 0!==e.data.size&&(i+=`-${e.data.size}`),void 0!==e.data.lastModified&&(i+=`-${e.data.lastModified}`),i}({...e,type:i},t)}},78287:(e,t,i)=>{"use strict";function s(e){const t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}i.d(t,{A:()=>s})},38638:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var s=i(78287),o=i(32889);function r(e){if(e.type)return e.type;const t=e.name?(0,s.A)(e.name).extension?.toLowerCase():null;return t&&t in o.A?o.A[t]:"application/octet-stream"}},32889:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});const s={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},8423:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});let s=(e=21)=>{let t="",i=0|e;for(;i--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t}}}]);