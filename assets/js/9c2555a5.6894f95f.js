"use strict";(globalThis.webpackChunkuppy_io=globalThis.webpackChunkuppy_io||[]).push([[9592],{20677:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"framework-integrations/nextjs","title":"Next.js","description":"Integration guide for Next.js featuring the dashboard,","source":"@site/docs/framework-integrations/nextjs.mdx","sourceDirName":"framework-integrations","slug":"/nextjs","permalink":"/docs/nextjs","draft":false,"unlisted":false,"editUrl":"https://github.com/transloadit/uppy.io/blob/main/docs/framework-integrations/nextjs.mdx","tags":[],"version":"current","frontMatter":{"slug":"/nextjs"},"sidebar":"tutorialSidebar","previous":{"title":"Angular","permalink":"/docs/angular"},"next":{"title":"React Router","permalink":"/docs/reactrouter"}}');var s=n(74848),a=n(28453),o=n(22707),i=n(53632);const l={slug:"/nextjs"},u="Next.js",c={},d=[{value:"Install",id:"install",level:2},{value:"Tus",id:"tus",level:2},{value:"Pages router",id:"pages-router",level:3},{value:"App router",id:"app-router",level:3},{value:"Transloadit",id:"transloadit",level:2},{value:"HTTP uploads to your backend",id:"http-uploads-to-your-backend",level:2},{value:"Next steps",id:"next-steps",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"nextjs",children:"Next.js"})}),"\n",(0,s.jsxs)(t.p,{children:["Integration guide for ",(0,s.jsx)(t.a,{href:"https://nextjs.org/",children:"Next.js"})," featuring the ",(0,s.jsx)(t.a,{href:"/docs/dashboard",children:"dashboard"}),",\nthe ",(0,s.jsx)(t.a,{href:"/docs/tus",children:"tus"})," uploader, ",(0,s.jsx)(t.a,{href:"/docs/transloadit",children:"transloadit"}),", multipart\nuploads to a Next.js route, the Uppy UI components, and the\n",(0,s.jsx)(t.a,{href:"/docs/react",children:"React hooks"}),"."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["Uppy also has hooks and more React examples in the ",(0,s.jsx)(t.a,{href:"/docs/react",children:"React docs"}),"."]})}),"\n",(0,s.jsx)(t.h2,{id:"install",children:"Install"}),"\n",(0,s.jsxs)(o.A,{children:[(0,s.jsx)(i.A,{value:"npm",label:"NPM",default:!0,children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"npm install @uppy/core @uppy/dashboard @uppy/react\n"})})}),(0,s.jsx)(i.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"yarn add @uppy/core @uppy/dashboard @uppy/react\n"})})})]}),"\n",(0,s.jsx)(t.h2,{id:"tus",children:"Tus"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://tus.io/",children:"Tus"})," is an open protocol for resumable uploads built on HTTP. This means\naccidentally closing your tab or losing connection let\u2019s you continue, for\ninstance, your 10GB upload instead of starting all over."]}),"\n",(0,s.jsxs)(t.p,{children:["Tus supports any language, any platform, and any network. It requires a client\nand server integration to work. We will be using ",(0,s.jsx)(t.a,{href:"https://github.com/tus/tus-node-server",children:"tus Node.js"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Checkout the ",(0,s.jsxs)(t.a,{href:"/docs/tus",children:[(0,s.jsx)(t.code,{children:"@uppy/tus"})," docs"]})," for more information."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-tsx",children:"'use client';\n\nimport Uppy from '@uppy/core';\n// For now, if you do not want to install UI components you\n// are not using import from lib directly.\nimport Dashboard from '@uppy/react/lib/Dashboard';\nimport Tus from '@uppy/tus';\nimport { useState } from 'react';\n\nimport '@uppy/core/css/style.min.css';\nimport '@uppy/dashboard/css/style.min.css';\n\nfunction createUppy() {\n\treturn new Uppy().use(Tus, { endpoint: '/api/upload' });\n}\n\nexport default function UppyDashboard() {\n\t// Important: use an initializer function to prevent the state from recreating.\n\tconst [uppy] = useState(createUppy);\n\n\treturn <Dashboard theme=\"dark\" uppy={uppy} />;\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"pages-router",children:"Pages router"}),"\n",(0,s.jsxs)(t.p,{children:["Attach the tus server handler to a Next.js route handler in an\n",(0,s.jsx)(t.a,{href:"https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes#optional-catch-all-routes",children:"optional catch-all route file"}),"."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"/pages/api/upload/[[...file]].ts"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"import type { NextApiRequest, NextApiResponse } from 'next';\nimport { Server, Upload } from '@tus/server';\nimport { FileStore } from '@tus/file-store';\n\n/**\n * !Important. This will tell Next.js NOT Parse the body as tus requires\n * @see https://nextjs.org/docs/api-routes/request-helpers\n */\nexport const config = {\n\tapi: {\n\t\tbodyParser: false,\n\t},\n};\n\nconst tusServer = new Server({\n\t// `path` needs to match the route declared by the next file router\n\tpath: '/api/upload',\n\tdatastore: new FileStore({ directory: './files' }),\n});\n\nexport default function handler(req: NextApiRequest, res: NextApiResponse) {\n\treturn tusServer.handle(req, res);\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"app-router",children:"App router"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"/app/api/upload/[[...slug]]/route.ts"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"import { Server } from '@tus/server';\nimport { FileStore } from '@tus/file-store';\nimport { NextRequest } from 'next/server';\n\nconst server = new Server({\n\t// `path` needs to match the route declared by the next file router\n\t// ie /api/upload\n\tpath: '/api/upload',\n\tdatastore: new FileStore({ directory: './files' }),\n});\n\nexport const GET = async (req: NextRequest) => server.handleWeb(req);\nexport const PATCH = async (req: NextRequest) => server.handleWeb(req);\nexport const POST = async (req: NextRequest) => server.handleWeb(req);\nexport const DELETE = async (req: NextRequest) => server.handleWeb(req);\nexport const OPTIONS = async (req: NextRequest) => server.handleWeb(req);\nexport const HEAD = async (req: NextRequest) => server.handleWeb(req);\n"})}),"\n",(0,s.jsx)(t.h2,{id:"transloadit",children:"Transloadit"}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["Before continuing you should have a ",(0,s.jsx)(t.a,{href:"https://transloadit.com",children:"Transloadit"}),"\naccount and a\n",(0,s.jsx)(t.a,{href:"https://transloadit.com/docs/getting-started/my-first-app/",children:"Template"})," setup."]})}),"\n",(0,s.jsxs)(t.p,{children:["Transloadit\u2019s strength is versatility. By doing video, audio, images, documents,\nand more, you only need one vendor for ",(0,s.jsx)(t.a,{href:"https://transloadit.com/services/",children:"all your file processing\nneeds"}),". The ",(0,s.jsx)(t.a,{href:"/docs/transloadit",children:(0,s.jsx)(t.code,{children:"@uppy/transloadit"})}),"\nplugin directly uploads to Transloadit so you only have to worry about creating\na ",(0,s.jsx)(t.a,{href:"https://transloadit.com/docs/getting-started/concepts/",children:"template"}),". It uses ",(0,s.jsx)(t.a,{href:"#tus",children:"Tus"})," under the hood so you\ndon\u2019t have to sacrifice reliable, resumable uploads for convenience."]}),"\n",(0,s.jsxs)(t.p,{children:["When you go to production always make sure to set the ",(0,s.jsx)(t.code,{children:"signature"}),". ",(0,s.jsxs)(t.strong,{children:["Not using\n",(0,s.jsx)(t.a,{href:"https://transloadit.com/docs/topics/signature-authentication/",children:"Signature Authentication"}),"\ncan be a security risk"]}),". Signature Authentication is a security measure that\ncan prevent outsiders from tampering with your Assembly Instructions."]}),"\n",(0,s.jsx)(t.p,{children:"Generating a signature should be done on the server to avoid leaking secrets."}),"\n",(0,s.jsxs)(o.A,{children:[(0,s.jsxs)(i.A,{value:"app",label:"App Router",default:!0,children:[(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"/app/api/transloadit/route.ts"})}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"import { NextResponse, NextRequest } from 'next/server';\nimport crypto from 'crypto';\n\nfunction utcDateString(ms: number): string {\n\treturn new Date(ms)\n\t\t.toISOString()\n\t\t.replace(/-/g, '/')\n\t\t.replace(/T/, ' ')\n\t\t.replace(/\\.\\d+Z$/, '+00:00');\n}\n\nexport async function POST(request: NextRequest) {\n\t// expire 1 hour from now (this must be milliseconds)\n\tconst expires = utcDateString(Date.now() + 1 * 60 * 60 * 1000);\n\tconst authKey = process.env.TRANSLOADIT_KEY;\n\tconst authSecret = process.env.TRANSLOADIT_SECRET;\n\tconst templateId = process.env.TRANSLOADIT_TEMPLATE_ID;\n\n\t// Typically, here you would also deny generating a signature for improper use\n\tif (!authKey || !authSecret || !templateId) {\n\t\treturn NextResponse.json(\n\t\t\t{ error: 'Missing Transloadit credentials' },\n\t\t\t{ status: 500 },\n\t\t);\n\t}\n\n\tconst body = await request.json();\n\tconst params = JSON.stringify({\n\t\tauth: {\n\t\t\tkey: authKey,\n\t\t\texpires,\n\t\t},\n\t\ttemplate_id: templateId,\n\t\tfields: {\n\t\t\t// This becomes available in your Template as `${fields.customValue}`\n\t\t\t// and could be used to have a storage directory per user for example\n\t\t\tcustomValue: body.customValue,\n\t\t},\n\t\t// your other params like notify_url, etc.\n\t});\n\n\tconst signatureBytes = crypto\n\t\t.createHmac('sha384', authSecret)\n\t\t.update(Buffer.from(params, 'utf-8'));\n\t// The final signature needs the hash name in front, so\n\t// the hashing algorithm can be updated in a backwards-compatible\n\t// way when old algorithms become insecure.\n\tconst signature = `sha384:${signatureBytes.digest('hex')}`;\n\n\treturn NextResponse.json({ expires, signature, params });\n}\n"})})]}),(0,s.jsxs)(i.A,{value:"pages",label:"Pages Router",children:[(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"/pages/api/transloadit/params.ts"})}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"import type { NextApiRequest, NextApiResponse } from 'next';\nimport crypto from 'node:crypto';\n\nfunction utcDateString(ms: number): string {\n\treturn new Date(ms)\n\t\t.toISOString()\n\t\t.replace(/-/g, '/')\n\t\t.replace(/T/, ' ')\n\t\t.replace(/\\.\\d+Z$/, '+00:00');\n}\n\nexport default function handler(req: NextApiRequest, res: NextApiResponse) {\n\t// Typically, here you would also deny generating a signature for improper use\n\tif (req.method !== 'POST') {\n\t\treturn res.status(405).json({ error: 'Method Not Allowed' });\n\t}\n\n\t// expire 1 hour from now (this must be milliseconds)\n\tconst expires = utcDateString(Date.now() + 1 * 60 * 60 * 1000);\n\tconst authKey = process.env.TRANSLOADIT_KEY;\n\tconst authSecret = process.env.TRANSLOADIT_SECRET;\n\tconst templateId = process.env.TRANSLOADIT_TEMPLATE_ID;\n\n\tif (!authKey || !authSecret || !templateId) {\n\t\treturn res.status(500).json({ error: 'Missing Transloadit credentials' });\n\t}\n\n\tconst params = JSON.stringify({\n\t\tauth: {\n\t\t\tkey: authKey,\n\t\t\texpires,\n\t\t},\n\t\ttemplate_id: templateId,\n\t\tfields: {\n\t\t\t// This becomes available in your Template as `${fields.customValue}`\n\t\t\t// and could be used to have a storage directory per user for example\n\t\t\tcustomValue: req.body.customValue,\n\t\t},\n\t\t// your other params like notify_url, etc.\n\t});\n\n\tconst signatureBytes = crypto\n\t\t.createHmac('sha384', authSecret)\n\t\t.update(Buffer.from(params, 'utf-8'));\n\t// The final signature needs the hash name in front, so\n\t// the hashing algorithm can be updated in a backwards-compatible\n\t// way when old algorithms become insecure.\n\tconst signature = `sha384:${signatureBytes.digest('hex')}`;\n\n\tres.status(200).json({ expires, signature, params });\n}\n"})})]})]}),"\n",(0,s.jsxs)(t.p,{children:["On the client we want to fetch the signature and params from the server. You may\nwant to send values from React state along to your endpoint, for instance to add\n",(0,s.jsx)(t.a,{href:"https://transloadit.com/docs/topics/assembly-variables/",children:(0,s.jsx)(t.code,{children:"fields"})})," which you\ncan use in your template as global variables."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"// ...\nfunction createUppy() {\n\tconst uppy = new Uppy();\n\tuppy.use(Transloadit, {\n\t\tasync assemblyOptions() {\n\t\t\t// You can send meta data along for use in your template.\n\t\t\t// https://transloadit.com/docs/topics/assembly-instructions/#form-fields-in-instructions\n\t\t\tconst { meta } = uppy.getState();\n\t\t\tconst body = JSON.stringify({ customValue: meta.customValue });\n\t\t\tconst res = await fetch('/transloadit-params', { method: 'POST', body });\n\t\t\treturn response.json();\n\t\t},\n\t});\n\treturn uppy;\n}\n\nfunction Component({ customValue }) {\n\t// IMPORTANT: passing an initializer function to prevent the state from recreating.\n\tconst [uppy] = useState(createUppy);\n\n\tuseEffect(() => {\n\t\tif (customValue) {\n\t\t\tuppy.setOptions({ meta: { customValue } });\n\t\t}\n\t}, [uppy, customValue]);\n}\n"})}),"\n",(0,s.jsx)(t.h2,{id:"http-uploads-to-your-backend",children:"HTTP uploads to your backend"}),"\n",(0,s.jsxs)(t.p,{children:["If you want to handle uploads yourself, in Next.js or another server in any\nlanguage, you can use ",(0,s.jsx)(t.a,{href:"/docs/xhr-upload",children:(0,s.jsx)(t.code,{children:"@uppy/xhr-upload"})}),"."]}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["The server-side examples are simplified for demonstration purposes and assume a\nregular file upload while ",(0,s.jsx)(t.code,{children:"@uppy/xhr-upload"})," can also send ",(0,s.jsx)(t.code,{children:"FormData"})," through\nthe ",(0,s.jsx)(t.code,{children:"formData"})," or ",(0,s.jsx)(t.code,{children:"bundle"})," options."]})}),"\n",(0,s.jsxs)(o.A,{children:[(0,s.jsx)(i.A,{value:"app",label:"App Router",default:!0,children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"import { NextRequest, NextResponse } from 'next/server';\nimport { writeFile } from 'node:fs/promises';\nimport path from 'node:path';\n\nexport const config = {\n\tapi: {\n\t\tbodyParser: false,\n\t},\n};\n\nexport async function POST(request: NextRequest) {\n\tconst formData = await request.formData();\n\tconst file = formData.get('file') as File | null;\n\n\tif (!file) {\n\t\treturn NextResponse.json({ error: 'No file uploaded' }, { status: 400 });\n\t}\n\n\tconst buffer = Buffer.from(await file.arrayBuffer());\n\tconst filename = file.name.replace(/\\s/g, '-');\n\tconst filepath = path.join(process.cwd(), 'public', 'uploads', filename);\n\n\ttry {\n\t\tawait writeFile(filepath, buffer);\n\t\treturn NextResponse.json({\n\t\t\tmessage: 'File uploaded successfully',\n\t\t\tfilename,\n\t\t});\n\t} catch (error) {\n\t\tconsole.error('Error saving file:', error);\n\t\treturn NextResponse.json({ error: 'Error saving file' }, { status: 500 });\n\t}\n}\n"})})}),(0,s.jsx)(i.A,{value:"pages",label:"Pages Router",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"import type { NextApiRequest, NextApiResponse } from 'next';\nimport { createWriteStream } from 'fs';\nimport { pipeline } from 'stream/promises';\nimport path from 'path';\n\nexport const config = {\n\tapi: {\n\t\tbodyParser: false,\n\t},\n};\n\nexport default async function handler(\n\treq: NextApiRequest,\n\tres: NextApiResponse,\n) {\n\tif (req.method !== 'POST') {\n\t\treturn res.status(405).json({ error: 'Method Not Allowed' });\n\t}\n\n\ttry {\n\t\tconst filename = `file-${Date.now()}.txt`;\n\t\tconst filepath = path.join(process.cwd(), 'public', 'uploads', filename);\n\t\tconst writeStream = createWriteStream(filepath);\n\n\t\tawait pipeline(req, writeStream);\n\n\t\tres.status(200).json({ message: 'File uploaded successfully', filename });\n\t} catch (error) {\n\t\tconsole.error('Error saving file:', error);\n\t\tres.status(500).json({ error: 'Error saving file' });\n\t}\n}\n"})})})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-tsx",children:"'use client';\n\nimport Uppy from '@uppy/core';\n// For now, if you do not want to install UI components you\n// are not using import from lib directly.\nimport Dashboard from '@uppy/react/lib/Dashboard';\nimport Xhr from '@uppy/xhr-upload';\nimport { useState } from 'react';\n\nimport '@uppy/core/css/style.min.css';\nimport '@uppy/dashboard/css/style.min.css';\n\nfunction createUppy() {\n\treturn new Uppy().use(Xhr, { endpoint: '/api/upload' });\n}\n\nexport default function UppyDashboard() {\n\t// Important: use an initializer function to prevent the state from recreating.\n\tconst [uppy] = useState(createUppy);\n\n\treturn <Dashboard theme=\"dark\" uppy={uppy} />;\n}\n"})}),"\n",(0,s.jsx)(t.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Add client-side file ",(0,s.jsx)(t.a,{href:"/docs/uppy/#restrictions",children:"restrictions"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Upload files together with other form fields with ",(0,s.jsx)(t.a,{href:"/docs/form",children:(0,s.jsx)(t.code,{children:"@uppy/form"})}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Use your ",(0,s.jsx)(t.a,{href:"/docs/locales",children:"language of choice"})," instead of English."]}),"\n",(0,s.jsxs)(t.li,{children:["Add an ",(0,s.jsx)(t.a,{href:"/docs/image-editor",children:"image editor"})," for cropping and resizing images."]}),"\n",(0,s.jsxs)(t.li,{children:["Download files from remote sources, such as ",(0,s.jsx)(t.a,{href:"/docs/google-drive",children:"Google Drive"}),"\nand ",(0,s.jsx)(t.a,{href:"/docs/dropbox",children:"Dropbox"}),", with ",(0,s.jsx)(t.a,{href:"/docs/companion",children:"Companion"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Add ",(0,s.jsx)(t.a,{href:"/docs/golden-retriever",children:"Golden Retriever"})," to save selected files in your\nbrowser cache, so that if the browser crashes, or the user accidentally closes\nthe tab, Uppy can restore everything and continue uploading as if nothing\nhappened."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},22707:(e,t,n)=>{n.d(t,{A:()=>N});var r=n(96540),s=n(18215),a=n(79872),o=n(44319),i=n(56347),l=n(94280),u=n(73024),c=n(58417),d=n(44031);function p(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return p(e).map((({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r})))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m({value:e,tabValues:t}){return t.some((t=>t.value===e))}function f({queryString:e=!1,groupId:t}){const n=(0,i.W6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,u.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})}),[s,n])]}function x(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,a=h(e),[o,i]=(0,r.useState)((()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:a}))),[u,c]=f({queryString:n,groupId:s}),[p,x]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,d.Dv)(t);return[n,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:s}),y=(()=>{const e=u??p;return m({value:e,tabValues:a})?e:null})();(0,l.A)((()=>{y&&i(y)}),[y]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);i(e),c(e),x(e)}),[c,x,a]),tabValues:a}}var y=n(46916);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(74848);function j({className:e,block:t,selectedValue:n,selectValue:r,tabValues:a}){const i=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),u=e=>{const t=e.currentTarget,s=i.indexOf(t),o=a[s].value;o!==n&&(l(t),r(o))},c=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=i.indexOf(e.currentTarget)+1;t=i[n]??i[0];break}case"ArrowLeft":{const n=i.indexOf(e.currentTarget)-1;t=i[n]??i[i.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},e),children:a.map((({value:e,label:t,attributes:r})=>(0,b.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{i.push(e)},onKeyDown:c,onClick:u,...r,className:(0,s.A)("tabs__item",g.tabItem,r?.className,{"tabs__item--active":n===e}),children:t??e},e)))})}function v({lazy:e,children:t,selectedValue:n}){const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=a.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:a.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n})))})}function w(e){const t=x(e);return(0,b.jsxs)("div",{className:(0,s.A)(a.G.tabs.container,"tabs-container",g.tabList),children:[(0,b.jsx)(j,{...t,...e}),(0,b.jsx)(v,{...t,...e})]})}function N(e){const t=(0,y.A)();return(0,b.jsx)(w,{...e,children:p(e.children)},String(t))}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var r=n(96540);const s={},a=r.createContext(s);function o(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:t},e.children)}},53632:(e,t,n)=>{n.d(t,{A:()=>o});n(96540);var r=n(18215);const s={tabItem:"tabItem_Ymn6"};var a=n(74848);function o({children:e,hidden:t,className:n}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,n),hidden:t,children:e})}}}]);