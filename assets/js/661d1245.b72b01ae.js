"use strict";(self.webpackChunkuppy_io=self.webpackChunkuppy_io||[]).push([[4864],{86936:(e,n,s)=>{s.d(n,{Ay:()=>a,RM:()=>r});var t=s(74848),i=s(28453);const r=[];function o(e){const n={code:"code",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Context Value"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"{\n\tuppy: Uppy | undefined;\n\tstatus: 'init' | 'ready' | 'uploading' | 'paused' | 'error' | 'complete';\n\tprogress: number;\n}\n"})})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},92984:(e,n,s)=>{s.d(n,{Ay:()=>I,RM:()=>A});var t=s(74848),i=s(28453),r=s(96540),o=s(49547),a=s(29150);const d="browserWindow_KJ5v",c="titleBar_A0Ia",l="trafficLights_KFjg",p="trafficLight_DirP",u="close_eAD9",h="minimize_DlvY",x="maximize_EQB6",m="content_Mb8g",j=e=>{let{children:n,className:s=""}=e;return(0,t.jsxs)("div",{className:`${d} ${s}`,children:[(0,t.jsx)("div",{className:c,children:(0,t.jsxs)("div",{className:l,children:[(0,t.jsx)("div",{className:`${p} ${u}`}),(0,t.jsx)("div",{className:`${p} ${h}`}),(0,t.jsx)("div",{className:`${p} ${x}`})]})}),(0,t.jsx)("div",{className:m,children:n})]})},g={wrapper:"wrapper_v5d7"};function y(){const[e]=(0,r.useState)((()=>new a.A));return(0,r.useEffect)((()=>{e.setState({capabilities:{resumableUploads:!0,individualCancellation:!0,uploadProgress:!0}}),e.emit("progress",44),e.emit("pause-all")}),[e]),(0,t.jsx)(j,{children:(0,t.jsx)(o.P2,{uppy:e,children:(0,t.jsx)("div",{className:g.wrapper,children:(0,t.jsx)(o.s5,{})})})})}const f={wrapper:"wrapper_wQQc"};function v(){const[e]=(0,r.useState)((()=>new a.A)),n=(0,o.pl)(e,(e=>Object.values(e.files)));return(0,r.useEffect)((()=>{const n={id:"fake-image-1",name:"sample-image.jpg",type:"image/jpeg",size:12345,data:new Blob(["fake image data"],{type:"image/jpeg"}),source:"Local",isRemote:!1},s={id:"fake-pdf-1",name:"document.pdf",type:"application/pdf",size:54321,data:new Blob(["fake pdf data"],{type:"application/pdf"}),source:"Local",isRemote:!1};e.addFile(n),e.addFile(s)}),[e]),(0,t.jsx)(j,{children:(0,t.jsx)(o.P2,{uppy:e,children:(0,t.jsx)("div",{className:f.wrapper,children:n.map((e=>(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Vz,{file:e,images:!1}),(0,t.jsx)("p",{children:e.type})]},e.id)))})})})}const b={wrapper:"wrapper_LgXu",iconContainer:"iconContainer_Fwln",providerName:"providerName_m6hy"};function w(){const[e]=(0,r.useState)((()=>new a.A));return(0,t.jsx)(j,{children:(0,t.jsx)(o.P2,{uppy:e,children:(0,t.jsx)("div",{className:b.wrapper,children:[{id:"device",name:"Device"},{id:"camera",name:"Camera"},{id:"screen-capture",name:"Screen Capture"},{id:"audio",name:"Audio"},{id:"dropbox",name:"Dropbox"},{id:"facebook",name:"Facebook"},{id:"instagram",name:"Instagram"},{id:"onedrive",name:"OneDrive"},{id:"googlephotos",name:"Google Photos"},{id:"googledrive",name:"Google Drive"}].map((e=>(0,t.jsxs)("div",{className:b.iconContainer,children:[(0,t.jsx)(o.rb,{provider:e.id}),(0,t.jsx)("p",{className:b.providerName,children:e.name})]},e.id)))})})})}const U={wrapper:"wrapper_JF00"},k=[{id:"fake-pdf-1",name:"business-plan.pdf",type:"application/pdf",size:1234567,data:new Blob(["fake pdf data"],{type:"application/pdf"}),source:"Local",isRemote:!1},{id:"fake-video-1",name:"tutorial.mp4",type:"video/mp4",size:8765432,data:new Blob(["fake video data"],{type:"video/mp4"}),source:"Local",isRemote:!1}];function P(){const[e]=(0,r.useState)((()=>new a.A)),[n,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{s(k)}),[e]),(0,r.useEffect)((()=>{n.forEach((n=>e.addFile(n)))}),[n]),(0,t.jsx)(j,{children:(0,t.jsx)(o.P2,{uppy:e,children:(0,t.jsx)("div",{className:U.wrapper,children:(0,t.jsx)(o.CQ,{})})})})}const R={wrapper:"wrapper__9Tk"};function S(){const[e]=(0,r.useState)((()=>new a.A));return(0,t.jsx)(j,{children:(0,t.jsx)(o.P2,{uppy:e,children:(0,t.jsx)("div",{className:R.wrapper,children:(0,t.jsx)(o.mR,{})})})})}const F={wrapper:"wrapper_trOY"},N=[{id:"fake-pdf-1",name:"business-plan.pdf",type:"application/pdf",size:1234567,data:new Blob(["fake pdf data"],{type:"application/pdf"}),source:"Local",isRemote:!1},{id:"fake-video-1",name:"tutorial.mp4",type:"video/mp4",size:8765432,data:new Blob(["fake video data"],{type:"video/mp4"}),source:"Local",isRemote:!1}];function D(){const[e,n]=(0,r.useState)([]),[s]=(0,r.useState)((()=>new a.A));return(0,r.useEffect)((()=>{n(N)}),[s]),(0,r.useEffect)((()=>{e.forEach((e=>s.addFile(e)))}),[e]),(0,t.jsx)(j,{children:(0,t.jsx)(o.P2,{uppy:s,children:(0,t.jsx)("div",{className:F.wrapper,children:(0,t.jsx)(o.ay,{columns:4})})})})}const A=[{value:"<code>&lt;UploadButton /&gt;</code>",id:"uploadbutton-",level:4},{value:"<code>&lt;Thumbnail /&gt;</code>",id:"thumbnail-",level:4},{value:"<code>&lt;ProviderIcon /&gt;</code>",id:"providericon-",level:4},{value:"<code>&lt;FilesList /&gt;</code>",id:"fileslist-",level:4},{value:"<code>&lt;FilesGrid /&gt;</code>",id:"filesgrid-",level:4},{value:"<code>&lt;Dropzone /&gt;</code>",id:"dropzone-",level:4}];function C(e){const n={code:"code",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h4,{id:"uploadbutton-",children:(0,t.jsx)(n.code,{children:"<UploadButton />"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Attributes"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:'data-uppy-element="upload-button"'})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:'data-state="init" | "uploading" | "paused" | "error" | "complete"'})}),"\n"]}),"\n",(0,t.jsx)(y,{}),"\n",(0,t.jsx)(n.h4,{id:"thumbnail-",children:(0,t.jsx)(n.code,{children:"<Thumbnail />"})}),"\n",(0,t.jsx)(n.p,{children:"Component for displaying image thumbnails and/or SVG icons."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Props"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"file: UppyFile<Meta, Body>"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"width?: string"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"height?: string"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"images?: boolean"})}),"\n"]}),"\n",(0,t.jsx)(v,{}),"\n",(0,t.jsx)(n.h4,{id:"providericon-",children:(0,t.jsx)(n.code,{children:"<ProviderIcon />"})}),"\n",(0,t.jsx)(n.p,{children:"Common icons, such as a webcam, device, Dropbox, Google Drive, OneDrive, etc."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Props"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"provider"}),":\n",(0,t.jsx)(n.code,{children:"'device' | 'camera' | 'screen-capture' | 'audio' | 'dropbox' | 'facebook' | 'instagram' | 'onedrive' | 'googlephotos' | 'googledrive'"})]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"fill?: string"})}),"\n"]}),"\n",(0,t.jsx)(w,{}),"\n",(0,t.jsx)(n.h4,{id:"fileslist-",children:(0,t.jsx)(n.code,{children:"<FilesList />"})}),"\n",(0,t.jsx)(n.p,{children:"Component for displaying a list view of selected files."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Props"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"editFile?: (file: UppyFile<Meta, Body>) => void"})}),"\n"]}),"\n",(0,t.jsx)(P,{}),"\n",(0,t.jsx)(n.h4,{id:"filesgrid-",children:(0,t.jsx)(n.code,{children:"<FilesGrid />"})}),"\n",(0,t.jsx)(n.p,{children:"Grid layout component for displaying files in a grid format."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Props"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"editFile?: (file: UppyFile<Meta, Body>) => void"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"columns?: number"})}),"\n"]}),"\n",(0,t.jsx)(D,{}),"\n",(0,t.jsx)(n.h4,{id:"dropzone-",children:(0,t.jsx)(n.code,{children:"<Dropzone />"})}),"\n",(0,t.jsx)(n.p,{children:"Drag-and-drop zone component for file uploads."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Props"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"width?: string"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"height?: string"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"note?: string"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"noClick?: boolean"})}),"\n"]}),"\n",(0,t.jsx)(S,{})]})}function I(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(C,{...e})}):C(e)}},75499:(e,n,s)=>{s.d(n,{Ay:()=>a,RM:()=>r});var t=s(74848),i=s(28453);const r=[{value:"<code>useDropzone(options?)</code>",id:"usedropzoneoptions",level:4},{value:"<code>useFileInput(props?)</code>",id:"usefileinputprops",level:4},{value:"<code>useRemoteSource(sourceId)</code>",id:"useremotesourcesourceid",level:4},{value:"<code>useWebcam({ onSubmit })</code>",id:"usewebcam-onsubmit-",level:4}];function o(e){const n={code:"code",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h4,{id:"usedropzoneoptions",children:(0,t.jsx)(n.code,{children:"useDropzone(options?)"})}),"\n",(0,t.jsx)(n.p,{children:"Creates a dropzone for drag-and-drop file uploads using Uppy."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"noClick?: boolean"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onDragOver?: (event: Event) => void"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onDragEnter?: (event: Event) => void"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onDragLeave?: (event: Event) => void"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onDrop?: (files: File[]) => void"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onFileInputChange?: (files: File[]) => void"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"getRootProps: Function"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"getInputProps: Function"})}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"usefileinputprops",children:(0,t.jsx)(n.code,{children:"useFileInput(props?)"})}),"\n",(0,t.jsx)(n.p,{children:"Creates a file input for programmatic file selection using Uppy."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"multiple?: boolean"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"accept?: string"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"getInputProps: Function"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"getButtonProps: Function"})}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"useremotesourcesourceid",children:(0,t.jsx)(n.code,{children:"useRemoteSource(sourceId)"})}),"\n",(0,t.jsx)(n.p,{children:"Manages remote source connections (cloud storage providers)."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"sourceId: 'Box' | 'Dropbox' | 'Facebook' | 'GoogleDrive' | 'Instagram' | 'OneDrive' | 'Unsplash' | 'Url' | 'Zoom'"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"{\n  state: {\n    authenticated: boolean | undefined\n    didFirstRender: boolean\n    searchString: string\n    loading: boolean | string\n    partialTree: PartialTree\n    currentFolderId: PartialTreeId\n    username: string | null\n    breadcrumbs: PartialTreeFolder[]\n    selectedAmount: number\n    error: string | null\n  }\n  login: Function\n  logout: Function\n  open: Function\n  checkbox: Function\n  done: Function\n  cancel: Function\n}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"usewebcam-onsubmit-",children:(0,t.jsx)(n.code,{children:"useWebcam({ onSubmit })"})}),"\n",(0,t.jsx)(n.p,{children:"Manages webcam functionality for capturing photos/videos."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onSubmit: () => void"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"{\n  state: {\n    hasCamera: boolean\n    cameraReady: boolean\n    cameraError: null | Error\n    recordingLengthSeconds: number\n    videoSources: MediaDeviceInfo[]\n    currentDeviceId: string | MediaStreamTrack | null | undefined\n    recordedVideo: null | string\n    isRecording: boolean\n    status: 'init' | 'ready' | 'recording' | 'captured' | 'error'\n  }\n  stop: Function\n  start: Function\n  getVideoProps: Function\n  getSnapshotButtonProps: Function\n  getRecordButtonProps: Function\n  getStopRecordingButtonProps: Function\n  getSubmitButtonProps: Function\n  getDiscardButtonProps: Function\n}\n"})})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},56447:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>p,default:()=>j,frontMatter:()=>l,metadata:()=>u,toc:()=>x});var t=s(74848),i=s(28453),r=s(11470),o=s(19365),a=s(92984),d=s(75499),c=s(86936);const l={slug:"/react"},p="React",u={id:"framework-integrations/react",title:"React",description:"React components for the Uppy UI plugins and hooks.",source:"@site/docs/framework-integrations/react.mdx",sourceDirName:"framework-integrations",slug:"/react",permalink:"/docs/react",draft:!1,unlisted:!1,editUrl:"https://github.com/transloadit/uppy.io/blob/main/docs/framework-integrations/react.mdx",tags:[],version:"current",frontMatter:{slug:"/react"},sidebar:"tutorialSidebar",previous:{title:"React Router",permalink:"/docs/reactrouter"},next:{title:"SvelteKit",permalink:"/docs/sveltekit"}},h={},x=[{value:"Install",id:"install",level:2},{value:"Use",id:"use",level:2},{value:"Components",id:"components",level:3},{value:"Headless Components",id:"headless-components",level:3},{value:"<code>UppyContextProvider</code>",id:"uppycontextprovider",level:4},...c.RM,...a.RM,{value:"Hooks",id:"hooks",level:3},{value:"<code>useUppyState(uppy, selector)</code>",id:"useuppystateuppy-selector",level:4},{value:"<code>useUppyEvent(uppy, event, callback)</code>",id:"useuppyeventuppy-event-callback",level:4},...d.RM,{value:"Examples",id:"examples",level:2},{value:"Example: basic component",id:"example-basic-component",level:3},{value:"Example: keep Uppy state and uploads while navigating between pages",id:"example-keep-uppy-state-and-uploads-while-navigating-between-pages",level:3},{value:"Example: updating Uppy\u2019s options dynamically based on props",id:"example-updating-uppys-options-dynamically-based-on-props",level:3},{value:"Example: dynamic params and signature for Transloadit",id:"example-dynamic-params-and-signature-for-transloadit",level:3}];function m(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"react",children:"React"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://facebook.github.io/react",children:"React"})," components for the Uppy UI plugins and hooks."]}),"\n",(0,t.jsx)(n.h2,{id:"install",children:"Install"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)(o.A,{value:"npm",label:"NPM",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"npm install @uppy/react\n"})})}),(0,t.jsx)(o.A,{value:"yarn",label:"Yarn",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"yarn add @uppy/react\n"})})})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["You may also need to install peer dependencies, for instance ",(0,t.jsx)(n.code,{children:"@uppy/dashboard"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"use",children:"Use"}),"\n",(0,t.jsx)(n.p,{children:"Uppy offers three ways to build user interfaces:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pre-composed, plug-and-play components."})," Mainly ",(0,t.jsx)(n.code,{children:"<Dashboard />"})," and\n",(0,t.jsx)(n.code,{children:"<DragDrop />"}),". The downside is that you can\u2019t customize the UI."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Headless components."})," Smaller componentes, easier to override the styles\nor compose them together with your own components."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hooks."})," Attach our logic to your own components, no restrictions, create a\ntailor-made UI."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"components",children:"Components"}),"\n",(0,t.jsx)(n.p,{children:"Pre-composed, plug-and-play components:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<Dashboard />"})," renders ",(0,t.jsx)(n.a,{href:"/docs/dashboard",children:(0,t.jsx)(n.code,{children:"@uppy/dashboard"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<DashboardModal />"})," renders ",(0,t.jsx)(n.a,{href:"/docs/dashboard",children:(0,t.jsx)(n.code,{children:"@uppy/dashboard"})})," as a modal"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<DragDrop />"})," renders ",(0,t.jsx)(n.a,{href:"/docs/drag-drop",children:(0,t.jsx)(n.code,{children:"@uppy/drag-drop"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<ProgressBar />"})," renders ",(0,t.jsx)(n.a,{href:"/docs/progress-bar",children:(0,t.jsx)(n.code,{children:"@uppy/progress-bar"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<StatusBar />"})," renders ",(0,t.jsx)(n.a,{href:"/docs/status-bar",children:(0,t.jsx)(n.code,{children:"@uppy/status-bar"})})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"headless-components",children:"Headless Components"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Play around with the React headless components in ",(0,t.jsx)(n.a,{href:"#todo",children:"StackBlitz"})]})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["All components must be placed within a ",(0,t.jsx)(n.code,{children:"UppyContextProvider"}),"."]})}),"\n",(0,t.jsxs)(n.p,{children:["Uppy\u2019s headless components are smaller and more flexible. All components must be\nplaced within a ",(0,t.jsx)(n.code,{children:"UppyContextProvider"}),". They come styled as well but you can\noverride the styles with data attributes, for example with ",(0,t.jsx)(n.code,{children:"UploadButton"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:"button[data-uppy-element='upload-button'][data-state='uploading'] {\n\tbackground-color: lightblue;\n}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"uppycontextprovider",children:(0,t.jsx)(n.code,{children:"UppyContextProvider"})}),"\n",(0,t.jsx)(n.p,{children:"Provides Uppy context to child components and manages global upload\nstatus/progress."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useContext, useState } from 'react';\nimport { UppyContextProvider, UppyContext } from '@uppy/react';\n\nfunction YourComponent() {\n\tconst { uppy } = useContext(UppyContext);\n}\n\nexport function App() {\n\tconst [uppy] = useState(() => new Uppy());\n\n\treturn (\n\t\t<UppyContextProvider uppy={uppy}>\n\t\t\t<YourComponent />\n\t\t\t{/* and/or Uppy components */}\n\t\t</UppyContextProvider>\n\t);\n}\n"})}),"\n",(0,t.jsx)(c.Ay,{}),"\n",(0,t.jsx)(a.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"hooks",children:"Hooks"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Play around with the React headless hooks in ",(0,t.jsx)(n.a,{href:"#todo",children:"StackBlitz"})]})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["All hooks, except ",(0,t.jsx)(n.code,{children:"useUppyState"})," and ",(0,t.jsx)(n.code,{children:"useUppyEvent"}),", must be used within a\n",(0,t.jsx)(n.code,{children:"UppyContextProvider"}),"."]})}),"\n",(0,t.jsx)(n.h4,{id:"useuppystateuppy-selector",children:(0,t.jsx)(n.code,{children:"useUppyState(uppy, selector)"})}),"\n",(0,t.jsx)(n.p,{children:"Use this hook when you need to access Uppy\u2019s state reactively."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// IMPORTANT: passing an initializer function to prevent Uppy from being reinstantiated on every render.\nconst [uppy] = useState(() => new Uppy());\n\nconst files = useUppyState(uppy, (state) => state.files);\nconst totalProgress = useUppyState(uppy, (state) => state.totalProgress);\n// We can also get specific plugin state.\n// Note that the value on `plugins` depends on the `id` of the plugin.\nconst metaFields = useUppyState(\n\tuppy,\n\t(state) => state.plugins?.Dashboard?.metaFields,\n);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You can see all the values you can access on the\n",(0,t.jsx)(n.a,{href:"https://github.com/transloadit/uppy/blob/c45407d099d87e25cecaf03c5d9ce59c582ca0dc/packages/%40uppy/core/src/Uppy.ts#L155-L181",children:(0,t.jsx)(n.code,{children:"State"})}),"\ntype. If you are accessing plugin state, you would have to look at the types of\nthe plugin."]}),"\n",(0,t.jsx)(n.h4,{id:"useuppyeventuppy-event-callback",children:(0,t.jsx)(n.code,{children:"useUppyEvent(uppy, event, callback)"})}),"\n",(0,t.jsx)(n.p,{children:"Listen to Uppy events in a React component."}),"\n",(0,t.jsx)(n.p,{children:"The first item in the array is an array of results from the event. Depending on\nthe event, that can be empty or have up to three values. The second item is a\nfunction to clear the results. Values remain in state until the next event (if\nthat ever comes). Depending on your use case, you may want to keep the values in\nstate or clear the state after something else happenend."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// IMPORTANT: passing an initializer function to prevent Uppy from being reinstantiated on every render.\nconst [uppy] = useState(() => new Uppy());\n\nconst [results, clearResults] = useUppyEvent(uppy, 'transloadit:result');\nconst [stepName, result, assembly] = results; // strongly typed\n\nuseUppyEvent(uppy, 'cancel-all', clearResults);\n"})}),"\n",(0,t.jsx)(d.Ay,{}),"\n",(0,t.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.h3,{id:"example-basic-component",children:"Example: basic component"}),"\n",(0,t.jsx)(n.p,{children:"Here we have a basic component which ties Uppy\u2019s state to the component. This\nmeans you can render multiple instances. But be aware that as your component\nunmounts, for instance because the user navigates to a different page, Uppy\u2019s\nstate will be lost and uploads will stop."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["If you render multiple instances of Uppy, make sure to give each instance a\nunique ",(0,t.jsx)(n.code,{children:"id"}),"."]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import React, { useEffect, useState } from 'react';\nimport Uppy from '@uppy/core';\nimport Webcam from '@uppy/webcam';\nimport { Dashboard } from '@uppy/react';\n\nimport '@uppy/core/dist/style.min.css';\nimport '@uppy/dashboard/dist/style.min.css';\nimport '@uppy/webcam/dist/style.min.css';\n\nfunction Component() {\n\t// IMPORTANT: passing an initializer function to prevent Uppy from being reinstantiated on every render.\n\tconst [uppy] = useState(() => new Uppy().use(Webcam));\n\n\treturn <Dashboard uppy={uppy} />;\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-keep-uppy-state-and-uploads-while-navigating-between-pages",children:"Example: keep Uppy state and uploads while navigating between pages"}),"\n",(0,t.jsxs)(n.p,{children:["When you want Uppy\u2019s state to persist and keep uploads running between pages,\nyou can\n",(0,t.jsx)(n.a,{href:"https://react.dev/learn/sharing-state-between-components#lifting-state-up-by-example",children:"lift the state up"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import React, { useState, useEffect } from 'react';\nimport Uppy from '@uppy/core';\nimport { Dashboard } from '@uppy/react';\n\nfunction Page1() {\n\t// ...\n}\n\nfunction Page2({ uppy }) {\n\treturn (\n\t\t<>\n\t\t\t<p>{totalProgress}</p>\n\t\t\t<Dashboard id=\"dashboard\" uppy={uppy} />\n\t\t</>\n\t);\n}\n\nexport default function App() {\n\t// keeping the uppy instance alive above the pages the user can switch during uploading\n\tconst [uppy] = useState(() => new Uppy());\n\n\treturn (\n\t\t// Add your router here\n\t\t<>\n\t\t\t<Page1 />\n\t\t\t<Page2 uppy={uppy} />\n\t\t</>\n\t);\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-updating-uppys-options-dynamically-based-on-props",children:"Example: updating Uppy\u2019s options dynamically based on props"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// ...\nfunction Component(props) {\n\t// IMPORTANT: passing an initializer function to prevent the state from recreating.\n\tconst [uppy] = useState(() => new Uppy().use(Webcam));\n\n\tuseEffect(() => {\n\t\tuppy.setOptions({ restrictions: props.restrictions });\n\t}, [props.restrictions]);\n\n\tuseEffect(() => {\n\t\tuppy.getPlugin('Webcam').setOptions({ modes: props.webcamModes });\n\t}, [props.webcamModes]);\n\n\treturn <Dashboard uppy={uppy} />;\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-dynamic-params-and-signature-for-transloadit",children:"Example: dynamic params and signature for Transloadit"}),"\n",(0,t.jsxs)(n.p,{children:["When you go to production always make sure to set the ",(0,t.jsx)(n.code,{children:"signature"}),". ",(0,t.jsxs)(n.strong,{children:["Not using\n",(0,t.jsx)(n.a,{href:"https://transloadit.com/docs/topics/signature-authentication/",children:"Signature Authentication"}),"\ncan be a security risk"]}),". Signature Authentication is a security measure that\ncan prevent outsiders from tampering with your Assembly Instructions."]}),"\n",(0,t.jsxs)(n.p,{children:["Generating a signature should be done on the server to avoid leaking secrets. In\nReact, this could get awkward with a ",(0,t.jsx)(n.code,{children:"fetch"})," in a ",(0,t.jsx)(n.code,{children:"useEffect"})," and setting it to\n",(0,t.jsx)(n.code,{children:"useState"}),". Instead, it\u2019s easier to use the\n",(0,t.jsx)(n.a,{href:"/docs/transloadit#assemblyoptions",children:(0,t.jsx)(n.code,{children:"assemblyOptions"})})," option to ",(0,t.jsx)(n.code,{children:"fetch"})," the\nparams."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// ...\nfunction createUppy() {\n\tconst uppy = new Uppy();\n\tuppy.use(Transloadit, {\n\t\tasync assemblyOptions() {\n\t\t\t// You can send meta data along for use in your template.\n\t\t\t// https://transloadit.com/docs/topics/assembly-instructions/#form-fields-in-instructions\n\t\t\tconst { meta } = uppy.getState();\n\t\t\tconst body = JSON.stringify({ userId: meta.userId });\n\t\t\tconst res = await fetch('/transloadit-params', { method: 'POST', body });\n\t\t\treturn response.json();\n\t\t},\n\t});\n\treturn uppy;\n}\n\nfunction Component({ userId }) {\n\t// IMPORTANT: passing an initializer function to prevent Uppy from being reinstantiated on every render.\n\tconst [uppy] = useState(createUppy);\n\n\tuseEffect(() => {\n\t\tif (userId) {\n\t\t\t// Adding to global `meta` will add it to every file.\n\t\t\tuppy.setOptions({ meta: { userId } });\n\t\t}\n\t}, [uppy, userId]);\n}\n"})})]})}function j(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}}}]);