"use strict";(self.webpackChunkuppy_io=self.webpackChunkuppy_io||[]).push([[3902],{42381:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>h,contentTitle:()=>l,default:()=>m,frontMatter:()=>c,metadata:()=>a,toc:()=>p});var r=n(74848),o=n(28453),s=n(11470),t=n(19365),d=n(65171);const c={sidebar_position:1,slug:"/webcam"},l="Webcam",a={id:"sources/webcam",title:"Webcam",description:"The @uppy/webcam plugin lets you take photos and record videos with a built-in",source:"@site/docs/sources/webcam.mdx",sourceDirName:"sources",slug:"/webcam",permalink:"/docs/webcam",draft:!1,unlisted:!1,editUrl:"https://github.com/transloadit/uppy.io/blob/main/docs/sources/webcam.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/webcam"},sidebar:"tutorialSidebar",previous:{title:"Progress bar",permalink:"/docs/progress-bar"},next:{title:"Screen capture",permalink:"/docs/screen-capture"}},h={},p=[{value:"When should I use it?",id:"when-should-i-use-it",level:2},{value:"Install",id:"install",level:2},{value:"Use",id:"use",level:2},{value:"API",id:"api",level:2},{value:"Options",id:"options",level:3},{value:"<code>id</code>",id:"id",level:4},{value:"<code>target</code>",id:"target",level:4},{value:"<code>countdown</code>",id:"countdown",level:4},{value:"<code>onBeforeSnapshot</code>",id:"onbeforesnapshot",level:4},{value:"<code>modes</code>",id:"modes",level:4},{value:"<code>mirror</code>",id:"mirror",level:4},{value:"<code>videoConstraints</code>",id:"videoconstraints",level:4},{value:"<code>showVideoSourceDropdown</code>",id:"showvideosourcedropdown",level:4},{value:"<code>showRecordingLength</code>",id:"showrecordinglength",level:4},{value:"<code>preferredVideoMimeType</code>",id:"preferredvideomimetype",level:4},{value:"<code>preferredImageMimeType</code>",id:"preferredimagemimetype",level:4},{value:"<code>mobileNativeCamera</code>",id:"mobilenativecamera",level:4},{value:"<code>locale</code>",id:"locale",level:4}];function u(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h1,{id:"webcam",children:"Webcam"}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"@uppy/webcam"})," plugin lets you take photos and record videos with a built-in\ncamera on desktop and mobile devices."]}),"\n",(0,r.jsx)(i.admonition,{type:"tip",children:(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.a,{href:"/examples",children:"Try out the live example"})," or take it for a spin in\n",(0,r.jsx)(i.a,{href:"https://stackblitz.com/edit/vitejs-vite-zaqyaf?file=main.js",children:"StackBlitz"}),"."]})}),"\n",(0,r.jsx)(i.h2,{id:"when-should-i-use-it",children:"When should I use it?"}),"\n",(0,r.jsxs)(i.p,{children:["When you want your users to able to use their camera. This plugin is published\nseparately but made specifically for the ",(0,r.jsx)(i.a,{href:"/docs/dashboard",children:"Dashboard"}),". You can\ntechnically use it without it, but it\u2019s not officially supported."]}),"\n",(0,r.jsx)(i.h2,{id:"install",children:"Install"}),"\n",(0,r.jsxs)(s.A,{children:[(0,r.jsx)(t.A,{value:"npm",label:"NPM",default:!0,children:(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-shell",children:"npm install @uppy/webcam\n"})})}),(0,r.jsx)(t.A,{value:"yarn",label:"Yarn",children:(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-shell",children:"yarn add @uppy/webcam\n"})})}),(0,r.jsx)(t.A,{value:"cdn",label:"CDN",children:(0,r.jsx)(d.A,{children:"\n        import { Uppy, Dashboard, Webcam } from \"{{UPPY_JS_URL}}\"\n        const uppy = new Uppy()\n        uppy.use(Dashboard, { inline: true, target: 'body' })\n        uppy.use(Webcam)\n      "})})]}),"\n",(0,r.jsx)(i.h2,{id:"use",children:"Use"}),"\n",(0,r.jsx)(i.admonition,{type:"note",children:(0,r.jsxs)(i.p,{children:["To use the Webcam plugin in Chrome,\n",(0,r.jsx)(i.a,{href:"https://developers.google.com/web/updates/2015/10/chrome-47-webrtc#public_service_announcements",children:"your site must be served over https"}),".\nThis restriction does not apply on ",(0,r.jsx)(i.code,{children:"localhost"}),", so you don\u2019t have to jump\nthrough many hoops during development."]})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-js",metastring:"{3,7,11} showLineNumbers",children:"import Uppy from '@uppy/core';\nimport Dashboard from '@uppy/dashboard';\nimport Webcam from '@uppy/webcam';\n\nimport '@uppy/core/css/style.min.css';\nimport '@uppy/dashboard/css/style.min.css';\nimport '@uppy/webcam/css/style.min.css';\n\nnew Uppy().use(Dashboard, { inline: true, target: 'body' }).use(Webcam);\n"})}),"\n",(0,r.jsx)(i.h2,{id:"api",children:"API"}),"\n",(0,r.jsx)(i.h3,{id:"options",children:"Options"}),"\n",(0,r.jsx)(i.h4,{id:"id",children:(0,r.jsx)(i.code,{children:"id"})}),"\n",(0,r.jsxs)(i.p,{children:["A unique identifier for this plugin (",(0,r.jsx)(i.code,{children:"string"}),", default: ",(0,r.jsx)(i.code,{children:"'Webcam'"}),")."]}),"\n",(0,r.jsx)(i.h4,{id:"target",children:(0,r.jsx)(i.code,{children:"target"})}),"\n",(0,r.jsxs)(i.p,{children:["DOM element, CSS selector, or plugin to place the drag and drop area into\n(",(0,r.jsx)(i.code,{children:"string"}),", ",(0,r.jsx)(i.code,{children:"Element"}),", ",(0,r.jsx)(i.code,{children:"Function"}),", or ",(0,r.jsx)(i.code,{children:"UIPlugin"}),", default:\n",(0,r.jsx)(i.a,{href:"/docs/dashboard",children:(0,r.jsx)(i.code,{children:"Dashboard"})}),")."]}),"\n",(0,r.jsx)(i.h4,{id:"countdown",children:(0,r.jsx)(i.code,{children:"countdown"})}),"\n",(0,r.jsxs)(i.p,{children:["When taking a picture: the amount of seconds to wait before actually taking a\nsnapshot (",(0,r.jsx)(i.code,{children:"boolean"}),", default: ",(0,r.jsx)(i.code,{children:"false"}),")."]}),"\n",(0,r.jsxs)(i.p,{children:["If set to ",(0,r.jsx)(i.code,{children:"false"})," or 0, the snapshot is taken right away. This also shows a\n",(0,r.jsx)(i.code,{children:"Smile!"})," message through the ",(0,r.jsx)(i.a,{href:"/docs/informer",children:"Informer"})," before the picture is\ntaken."]}),"\n",(0,r.jsx)(i.h4,{id:"onbeforesnapshot",children:(0,r.jsx)(i.code,{children:"onBeforeSnapshot"})}),"\n",(0,r.jsxs)(i.p,{children:["A hook function to call before a snapshot is taken (",(0,r.jsx)(i.code,{children:"Function"}),", default:\n",(0,r.jsx)(i.code,{children:"Promise.resolve"}),")."]}),"\n",(0,r.jsxs)(i.p,{children:["The Webcam plugin will wait for the returned Promise to resolve before taking\nthe snapshot. This can be used to carry out variations on the ",(0,r.jsx)(i.code,{children:"countdown"})," option\nfor example."]}),"\n",(0,r.jsx)(i.h4,{id:"modes",children:(0,r.jsx)(i.code,{children:"modes"})}),"\n",(0,r.jsxs)(i.p,{children:["The types of recording modes to allow (",(0,r.jsx)(i.code,{children:"Array"}),", default: ",(0,r.jsx)(i.code,{children:"[]"}),")."]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"video-audio"})," - Record a video file, capturing both audio and video."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"video-only"})," - Record a video file with the webcam, but don\u2019t record audio."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"audio-only"})," - Record an audio file with the user\u2019s microphone."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"picture"})," - Take a picture with the webcam."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"By default, all modes are allowed, and the Webcam plugin will show controls for\nrecording video as well as taking pictures."}),"\n",(0,r.jsx)(i.h4,{id:"mirror",children:(0,r.jsx)(i.code,{children:"mirror"})}),"\n",(0,r.jsxs)(i.p,{children:["Configures whether to mirror preview image from the camera (",(0,r.jsx)(i.code,{children:"boolean"}),", default:\n",(0,r.jsx)(i.code,{children:"true"}),")."]}),"\n",(0,r.jsx)(i.p,{children:"This option is useful when taking a selfie with a front camera: when you wave\nyour right hand, you will see your hand on the right on the preview screen, like\nin the mirror. But when you actually take a picture, it will not be mirrored.\nThis is how smartphone selfie cameras behave."}),"\n",(0,r.jsx)(i.h4,{id:"videoconstraints",children:(0,r.jsx)(i.code,{children:"videoConstraints"})}),"\n",(0,r.jsxs)(i.p,{children:["Configure the ",(0,r.jsx)(i.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints#Properties_of_video_tracks",children:(0,r.jsx)(i.code,{children:"MediaTrackConstraints"})})," (",(0,r.jsx)(i.code,{children:"Object"}),", default: ",(0,r.jsx)(i.code,{children:"{}"}),")."]}),"\n",(0,r.jsxs)(i.p,{children:["You can specify acceptable ranges for the resolution of the video stream using\nthe ",(0,r.jsx)(i.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints/aspectRatio",children:(0,r.jsx)(i.code,{children:"aspectRatio"})}),", ",(0,r.jsx)(i.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints/width",children:(0,r.jsx)(i.code,{children:"width"})}),", and ",(0,r.jsx)(i.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints/height",children:(0,r.jsx)(i.code,{children:"height"})})," properties. Each property\ntakes an object with ",(0,r.jsx)(i.code,{children:"{ min, ideal, max }"})," properties. For example, use\n",(0,r.jsx)(i.code,{children:"width: { min: 720, max: 1920, ideal: 1920 }"})," to allow any width between 720 and\n1920 pixels wide, while preferring the highest resolution."]}),"\n",(0,r.jsxs)(i.p,{children:["Devices sometimes have several cameras, front and back, for example.\n",(0,r.jsx)(i.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints/facingMode",children:(0,r.jsx)(i.code,{children:"facingMode"})})," lets you specify which should be used:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"user"}),": The video source is facing toward the user; this includes, for\nexample, the front-facing camera on a smartphone."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"environment"}),": The video source is facing away from the user, thereby viewing\ntheir environment. This is the back camera on a smartphone."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"left"}),": The video source is facing toward the user but to their left, such as\na camera aimed toward the user but over their left shoulder."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"right"}),": The video source is facing toward the user but to their right, such\nas a camera aimed toward the user but over their right shoulder."]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["For a full list of available properties, check out MDN documentation for\n",(0,r.jsx)(i.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints#Properties_of_video_tracks",children:(0,r.jsx)(i.code,{children:"MediaTrackConstraints"})}),"."]}),"\n",(0,r.jsx)(i.h4,{id:"showvideosourcedropdown",children:(0,r.jsx)(i.code,{children:"showVideoSourceDropdown"})}),"\n",(0,r.jsxs)(i.p,{children:["Configures whether to show a dropdown which enables to choose the video device\nto use (",(0,r.jsx)(i.code,{children:"boolean"}),", default: ",(0,r.jsx)(i.code,{children:"false"}),")."]}),"\n",(0,r.jsxs)(i.p,{children:["This option will have priority over ",(0,r.jsx)(i.code,{children:"facingMode"})," if enabled."]}),"\n",(0,r.jsx)(i.h4,{id:"showrecordinglength",children:(0,r.jsx)(i.code,{children:"showRecordingLength"})}),"\n",(0,r.jsxs)(i.p,{children:["Configures whether to show the length of the recording while the recording is in\nprogress (",(0,r.jsx)(i.code,{children:"boolean"}),", default: ",(0,r.jsx)(i.code,{children:"false"}),")."]}),"\n",(0,r.jsx)(i.h4,{id:"preferredvideomimetype",children:(0,r.jsx)(i.code,{children:"preferredVideoMimeType"})}),"\n",(0,r.jsxs)(i.p,{children:["Set the preferred mime type for video recordings, for example ",(0,r.jsx)(i.code,{children:"'video/webm'"}),"\n(",(0,r.jsx)(i.code,{children:"string"}),", default: ",(0,r.jsx)(i.code,{children:"null"}),")."]}),"\n",(0,r.jsxs)(i.p,{children:["If the browser supports the given mime type, the video will be recorded in this\nformat. If the browser does not support it, it will use the browser default. If\nno preferred video mime type is given, the Webcam plugin will prefer types\nlisted in the ",(0,r.jsxs)(i.a,{href:"/docs/uppy/#restrictions",children:[(0,r.jsx)(i.code,{children:"allowedFileTypes"})," restriction"]}),", if\nany."]}),"\n",(0,r.jsx)(i.h4,{id:"preferredimagemimetype",children:(0,r.jsx)(i.code,{children:"preferredImageMimeType"})}),"\n",(0,r.jsxs)(i.p,{children:["Set the preferred mime type for images, for example ",(0,r.jsx)(i.code,{children:"'image/png'"})," (",(0,r.jsx)(i.code,{children:"string"}),",\ndefault: ",(0,r.jsx)(i.code,{children:"image/jpeg"}),")."]}),"\n",(0,r.jsxs)(i.p,{children:["If the browser supports rendering the given mime type, the image will be stored\nin this format. Else ",(0,r.jsx)(i.code,{children:"image/jpeg"})," is used by default. If no preferred image mime\ntype is given, the Webcam plugin will prefer types listed in the\n",(0,r.jsxs)(i.a,{href:"/docs/uppy/#restrictions",children:[(0,r.jsx)(i.code,{children:"allowedFileTypes"})," restriction"]}),", if any."]}),"\n",(0,r.jsx)(i.h4,{id:"mobilenativecamera",children:(0,r.jsx)(i.code,{children:"mobileNativeCamera"})}),"\n",(0,r.jsxs)(i.p,{children:["Replaces Uppy\u2019s custom camera UI on mobile and tablet with the native device\ncamera (",(0,r.jsx)(i.code,{children:"Function: boolean"})," or ",(0,r.jsx)(i.code,{children:"boolean"}),", default: ",(0,r.jsx)(i.code,{children:"isMobile()"}),")."]}),"\n",(0,r.jsxs)(i.p,{children:["This will show the \u201cTake Picture\u201d and / or \u201cRecord Video\u201d buttons, which ones\nshow depends on the ",(0,r.jsx)(i.a,{href:"#modes",children:(0,r.jsx)(i.code,{children:"modes"})})," option."]}),"\n",(0,r.jsxs)(i.p,{children:["You can set a boolean to forcefully enable / disable this feature, or a function\nwhich returns a boolean. By default we use the\n",(0,r.jsx)(i.a,{href:"https://github.com/juliangruber/is-mobile",children:(0,r.jsx)(i.code,{children:"is-mobile"})})," package."]}),"\n",(0,r.jsx)(i.h4,{id:"locale",children:(0,r.jsx)(i.code,{children:"locale"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-js",children:"export default {\n\tstrings: {\n\t\tpluginNameCamera: 'Camera',\n\t\tnoCameraTitle: 'Camera Not Available',\n\t\tnoCameraDescription:\n\t\t\t'In order to take pictures or record video, please connect a camera device',\n\t\trecordingStoppedMaxSize:\n\t\t\t'Recording stopped because the file size is about to exceed the limit',\n\t\tsubmitRecordedFile: 'Submit recorded file',\n\t\tdiscardRecordedFile: 'Discard recorded file',\n\t\t// Shown before a picture is taken when the `countdown` option is set.\n\t\tsmile: 'Smile!',\n\t\t// Used as the label for the button that takes a picture.\n\t\t// This is not visibly rendered but is picked up by screen readers.\n\t\ttakePicture: 'Take a picture',\n\t\t// Used as the label for the button that starts a video recording.\n\t\t// This is not visibly rendered but is picked up by screen readers.\n\t\tstartRecording: 'Begin video recording',\n\t\t// Used as the label for the button that stops a video recording.\n\t\t// This is not visibly rendered but is picked up by screen readers.\n\t\tstopRecording: 'Stop video recording',\n\t\t// Used as the label for the recording length counter. See the showRecordingLength option.\n\t\t// This is not visibly rendered but is picked up by screen readers.\n\t\trecordingLength: 'Recording length %{recording_length}',\n\t\t// Title on the \u201callow access\u201d screen\n\t\tallowAccessTitle: 'Please allow access to your camera',\n\t\t// Description on the \u201callow access\u201d screen\n\t\tallowAccessDescription:\n\t\t\t'In order to take pictures or record video with your camera, please allow camera access for this site.',\n\t},\n};\n"})})]})}function m(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},65171:(e,i,n)=>{n.d(i,{A:()=>l});var r=n(96540),o=n(21432),s=n(27293),t=n(4476),d=n(74848);const{rE:c}=t;function l(e){let{children:i,uppyCssName:n="uppy.min.css",uppyJsName:t="uppy.min.mjs"}=e,l=[];r.Children.toArray(i).forEach((e=>{l=[...l,...String(e).trim().split("\n").map((e=>e.trim()))]}));const a=l.map((e=>`  ${e}`)).join("\n"),h=`https://releases.transloadit.com/uppy/v${c}/${t}`,p=`\x3c!-- 1. Add CSS to \`<head>\` --\x3e\n<link href="https://releases.transloadit.com/uppy/v${c}/${n}" rel="stylesheet">\n\n\x3c!-- 2. Initialize --\x3e\n<div id="uppy"></div>\n\n<script type="module">\n${a.replace(/{{UPPY_JS_URL}}/g,h)}\n<\/script>\n`;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.A,{type:"caution",children:[(0,d.jsx)("p",{children:"The bundle consists of most Uppy plugins, so this method is not recommended for production, as your users will have to download all plugins when you are likely using only a few."}),(0,d.jsx)("p",{children:"It can be useful to speed up your development environment, so don't hesitate to use it to get you started."})]}),(0,d.jsx)(o.A,{language:"html",children:p})]})}}}]);