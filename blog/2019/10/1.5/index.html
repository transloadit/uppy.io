<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Uppy 1.5: Facebook and OneDrive (beta) support, upload cancellation | Uppy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://uppy.io/img/og_image.jpg"><meta data-rh="true" name="twitter:image" content="https://uppy.io/img/og_image.jpg"><meta data-rh="true" property="og:url" content="https://uppy.io/blog/2019/10/1.5/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:domain" content="uppy.io"><meta data-rh="true" name="twitter:title" content="Uppy"><meta data-rh="true" name="twitter:description" content="Sleek, modular open source JavaScript file uploader"><meta data-rh="true" property="og:title" content="Uppy 1.5: Facebook and OneDrive (beta) support, upload cancellation | Uppy"><meta data-rh="true" name="description" content="In the past two months, we have halved our open issue count and worked on a much"><meta data-rh="true" property="og:description" content="In the past two months, we have halved our open issue count and worked on a much"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2019-10-11T00:00:00.000Z"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://uppy.io/blog/2019/10/1.5/"><link data-rh="true" rel="alternate" href="https://uppy.io/blog/2019/10/1.5/" hreflang="en"><link data-rh="true" rel="alternate" href="https://uppy.io/blog/2019/10/1.5/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Q65IKQHNN5-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://uppy.io/blog/2019/10/1.5","mainEntityOfPage":"https://uppy.io/blog/2019/10/1.5","url":"https://uppy.io/blog/2019/10/1.5","headline":"Uppy 1.5: Facebook and OneDrive (beta) support, upload cancellation","name":"Uppy 1.5: Facebook and OneDrive (beta) support, upload cancellation","description":"In the past two months, we have halved our open issue count and worked on a much","datePublished":"2019-10-11T00:00:00.000Z","author":{"@type":"Person","name":"renee"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://uppy.io/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Uppy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Uppy Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Uppy" href="/opensearch.xml">

<meta name="google-site-verification" content="JxARoHXoCI8bD07pLV_u3z6xpuWNcSIZIcHEytyCkUc">
<script src="https://plausible.io/js/script.js" async defer="defer" data-domain="uppy.io"></script>
<script src="https://buttons.github.io/buttons.js" async defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.6634642c.css">
<script src="/assets/js/runtime~main.7ffe3263.js" defer="defer"></script>
<script src="/assets/js/main.8515efbf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Uppy Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Uppy Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Uppy</b></a><a class="navbar__item navbar__link" href="/docs/quick-start/">Docs</a><a class="navbar__item navbar__link" href="/examples/">Examples</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a href="https://github.com/transloadit/uppy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://community.transloadit.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://transloadit.com/open-source/support/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/uppy-4.0/">New Uppy 4.0 major: TypeScript rewrite, Google Photos, React hooks, and much more</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/3.13-3.21/">🎄 Uppy 3.13 to 3.21: Typescript Saga: the beginning, Image Editor improvements, Dashboard auto-install</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023-10-25-image-editor/">Scaling Images on Rotation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/3.3-3.13/">Uppy 3.3 to 3.13: conditional S3 multipart, signing on the client, speedy handling of 10k files and much much more</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023-05-new-website/">New Uppy.io and docs</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">Uppy 1.5: Facebook and OneDrive (beta) support, upload cancellation</h1><div class="container_mt6G margin-vert--md"><time datetime="2019-10-11T00:00:00.000Z">October 11, 2019</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro"><div class="avatar__name"><span>renee</span></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>In the past two months, we have halved our open issue count and worked on a much
more robust approach to upload cancellation. Members of the community also
contributed a bunch of new localizations: Czech, Danish, Greek, Indonesian, and
Swedish!</p>
<p>We are also releasing beta versions of new remote providers for Facebook and
OneDrive. Please try them out!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="issue-busting">Issue busting<a class="hash-link" aria-label="Direct link to Issue busting" title="Direct link to Issue busting" href="/blog/2019/10/1.5/#issue-busting">​</a></h2>
<p>Our issue tracker was getting pretty full over the past year, topping out at
about 120 open issues. Some had been open for months without any reply! Issues
were being opened at such a rate that it was almost too much for our small team
to handle. So, we sat down to go through everything together and started setting
up a process to make sure our issue list doesn&#x27;t get out of hand again in the
future.</p>
<p>When opening a new issue, we now ask you to mark it as a bug or a feature
request. The issue will also get a “Triage” label, indicating that an Uppy team
member needs to sort it. If there are many “Triage” issues open at any point, we
will discuss them in our weekly team call. New issues will also be assigned to a
specific team member as soon as possible, so each of us has a much smaller and
more manageable list of issues to keep track of.</p>
<p>To keep the issue tracker focused on Uppy features and bugs, detailed support
questions should go to Transloadit&#x27;s
<a href="https://community.transloadit.com/" target="_blank" rel="noopener noreferrer">community forum</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="duplicate-files">Duplicate files<a class="hash-link" aria-label="Direct link to Duplicate files" title="Direct link to Duplicate files" href="/blog/2019/10/1.5/#duplicate-files">​</a></h2>
<p>Up until now, if you added a file that had been already added to Uppy some time
before — i.e., a file with the same <code>name</code>/<code>type</code>/<code>modifiedDate</code> etc. — the old
file would be silently replaced with a new one. This changes with v1.5:</p>
<ol>
<li>Uppy now throws a warning if a file with the same <code>file.id</code> already exist.
The new file will not be added and the old file will not be replaced.</li>
<li>We are adding the <code>file.meta.relativePath</code> to <code>file.id</code>. <code>relativePath</code>
exists on files that have been dropped together with a folder. This means
that if you drop a folder with <code>folder/a.jpg</code> and <code>folder/subfolder/a.jpg</code>,
both <code>a.jpg</code>s will be added, since they come from different folders and this
kind of duplication might be intended.</li>
</ol>
<p>See PR <a href="https://github.com/transloadit/uppy/pull/1767" target="_blank" rel="noopener noreferrer">#1767</a> for details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dashboard">Dashboard<a class="hash-link" aria-label="Direct link to Dashboard" title="Direct link to Dashboard" href="/blog/2019/10/1.5/#dashboard">​</a></h2>
<p>Files in the Dashboard no longer have an icon indicating where they came from
(local device, GDrive, etc.). We think it&#x27;s nice for developers to see, but not
that useful for most end users. If you want to re-enable it, you can add the
following CSS to your app:</p>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.uppy-DashboardItem-sourceIcon</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> inline-block</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The difference is very small. The icons used to be next to the file size, as
seen here in Uppy v1.3:
<img decoding="async" loading="lazy" alt="Uppy Dashboard v1.3, with file source icon" src="/assets/images/with-source-icon-1688bd96924f14cffa611f00163cb978.png" width="1432" height="573" class="img_ev3q"></p>
<p>Now, in v1.5, they’re gone:
<img decoding="async" loading="lazy" alt="Uppy Dashboard v1.5, without file source icon" src="/assets/images/without-source-icon-8a537cd041e1aecd14dd6bc425d83a59.png" width="1470" height="557" class="img_ev3q"></p>
<p>Additionally:</p>
<ul>
<li>Editing a file now fires <code>dashboard:file-edit-start</code> and
<code>dashboard:file-edit-complete</code> events
(<a href="https://github.com/transloadit/uppy/pull/1776" target="_blank" rel="noopener noreferrer">#1776</a>)</li>
<li>Excessive debug logging is reduced
(<a href="https://github.com/transloadit/uppy/pull/1747" target="_blank" rel="noopener noreferrer">#1747</a>)</li>
<li>Fixes to the TypeScript typings were submitted by @mrbatista and
@MatthiasKunnen</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cancellation">Cancellation<a class="hash-link" aria-label="Direct link to Cancellation" title="Direct link to Cancellation" href="/blog/2019/10/1.5/#cancellation">​</a></h2>
<p>Our old approach to limiting the amount of simultaneous uploads had some
problems. Uploads were queued by chaining Promises, but they did not respect
cancellation. So, if you cancelled an upload while some files were still waiting
to start, those files would actually start uploading even though they had
already been removed. Obviously, that&#x27;s pretty bad!</p>
<p>PR <a href="https://github.com/transloadit/uppy/pull/1736" target="_blank" rel="noopener noreferrer">#1736</a> addresses this by
ripping out the old limiting code and replacing it with a new,
cancellation-aware upload queue. We’ve also added a browser test to make sure
that this thing stays resilient:</p>
<video alt="Demo video showing an automated Chaos Monkey session with Uppy" muted="" autoplay="" loop="">
  <source src="/img/blog/1.5/chaos-monkey.webm" type="video/webm">
  <source src="/img/blog/1.5/chaos-monkey.mp4" type="video/mp4">
</video>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lerna-lerna-lerna">Lerna lerna lerna<a class="hash-link" aria-label="Direct link to Lerna lerna lerna" title="Direct link to Lerna lerna lerna" href="/blog/2019/10/1.5/#lerna-lerna-lerna">​</a></h2>
<p>In August, we bit the bullet and used Lerna’s <code>lerna link convert</code> feature. Now,
all the packages in our monorepo depend on each other, using
<code>file:../packagename/</code> paths instead of version numbers. The entire repository
is one big dependency tree in npm&#x27;s view. Npm can install the entire thing on
its own, without <code>lerna bootstrap</code>’s help! Since npm manages the entire tree,
the <code>package-lock.json</code> file in the repository root contains everything we need.
We can now use the faster <code>npm ci</code> install command on CI, saving more than sixty
seconds on every run 🎉</p>
<p>As part of this effort, we also added all our examples to the lerna-managed
tree, so you no longer have to do <code>npm install</code> in example folders to use them.</p>
<p>This change makes working on the repository much easier, since dependencies are
handled in the same way as in any other repository, simply by doing:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="localization">Localization<a class="hash-link" aria-label="Direct link to Localization" title="Direct link to Localization" href="/blog/2019/10/1.5/#localization">​</a></h2>
<p>Thanks to multiple contributors, Uppy now knows Czech, Danish, Greek,
Indonesian, and Swedish, on top of the nineteen languages that were already
supported! The Serbian locale is now available in both the Cyrillic and Latin
scripts. Big thanks to @achmiral, @arggh, @czj, @jukakoski, @marcusforberg,
@nndevstudio, @Pzoco, @Tashows, and @tvaliasek for their efforts ✨</p>
<p>New translations are rolling in every month, but there are plenty more languages
out there that Uppy would love to learn. Please consider
<a href="/docs/locales/#Contributing-a-new-language">contributing your language</a> as
well!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="facebook-and-onedrive">Facebook and OneDrive<a class="hash-link" aria-label="Direct link to Facebook and OneDrive" title="Direct link to Facebook and OneDrive" href="/blog/2019/10/1.5/#facebook-and-onedrive">​</a></h2>
<p>This release adds two experimental new remote providers: Facebook and OneDrive.
For now, they are not available through the <code>uppy</code> package. To use them, install
<code>@uppy/facebook</code> or <code>@uppy/onedrive</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install @uppy/facebook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install @uppy/onedrive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Configure Companion to access the Facebook and OneDrive APIs, using environment
variables or the JS API:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export COMPANION_FACEBOOK_KEY=&quot;***&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export COMPANION_FACEBOOK_SECRET=&quot;***&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export COMPANION_ONEDRIVE_KEY=&quot;***&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export COMPANION_ONEDRIVE_SECRET=&quot;***&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">providerOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">facebook</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">secret</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// For OneDrive’s key &amp; secret pair, please use `microsoft` option key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">microsoft</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">secret</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then use them like the existing providers:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Facebook</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;@uppy/facebook&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">OneDrive</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;@uppy/onedrive&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uppy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Facebook</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">companionUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">YOUR_COMPANION_URL</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uppy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">OneDrive</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">companionUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">YOUR_COMPANION_URL</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We’re still waiting for our developer keys to be approved, so we don&#x27;t have
working examples on the website yet! We’ll let you know on
<a href="https://twitter.com/uppy_io" target="_blank" rel="noopener noreferrer">Twitter</a> when they’re live.</p>
<p>Once these new providers have been tested for a while, we will release them as
1.0 and include them in the main Uppy and Robodog bundles.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="revoke-companions-provider-access-on-logout">Revoke Companion’s Provider access on logout<a class="hash-link" aria-label="Direct link to Revoke Companion’s Provider access on logout" title="Direct link to Revoke Companion’s Provider access on logout" href="/blog/2019/10/1.5/#revoke-companions-provider-access-on-logout">​</a></h2>
<p>Up until now, when users clicked “logout” after using a remote Provider, such as
Google Drive or Dropbox, Uppy would destroy the access token. But on the
Provider’s side, Uppy was still allowed access. Should the user click “Connect
to Google Drive” again, no extra confirmation was required.</p>
<p>After a discussion in <a href="https://github.com/transloadit/uppy/issues/1563" target="_blank" rel="noopener noreferrer">#1563</a>,
we are expanding the logout process. Now, when users log out of remote Providers
through Uppy, Companion will destroy the token as before, but also attempt to
revoke the access from the corresponding Provider. In the event that the
Provider doesn’t support access revoke via it’s API, Uppy will display a helpful
message informing users how they can revoke the permissions manually.</p>
<p>See <a href="https://github.com/transloadit/uppy/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a> for details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="misc">Misc<a class="hash-link" aria-label="Direct link to Misc" title="Direct link to Misc" href="/blog/2019/10/1.5/#misc">​</a></h2>
<ul>
<li>@uppy/aws-s3-multipart: fix queueing behaviors, especially interaction with
cancellation (@goto-bus-stop, #1855)</li>
<li>@uppy/aws-s3: replace browser-only resolve-url by isomorphic url-parse
(@goto-bus-stop, #1854)</li>
<li>@uppy/companion-client: rename serverHeaders to companionHeaders
(@goto-bus-stop, #1861)</li>
<li>@uppy/companion: Fix S3 uploads for URL plugins (#1784 / @@ifedapoolarewaju)</li>
<li>@uppy/companion: bump lodash.merge to 4.6.2 to fix audit warning (#1796 /
@rettgerst)</li>
<li>@uppy/companion: set allowed HTTP methods internally (#1754 /
@ifedapoolarewaju)</li>
<li>@uppy/companion: whenever an error is returned from Companion: the auth screen
will be displayed if the user was never authenticated; if the user is
authenticated, the last screen on display before the error will be displayed
(#1743 / @ifedapoolarewaju)</li>
<li>@uppy/core: Made sure we can upload new files if we cancel last file
(allowMultipleUploads: false) (#1764 / @lakesare)</li>
<li>@uppy/core: fix &quot;Cannot read property &#x27;log&#x27; of undefined&quot; (#1785 / @theJoeBiz)</li>
<li>@uppy/core: use setFileState inside retryUpload (#1759 / @goto-bus-stop)</li>
<li>@uppy/dashboard, @uppy/drag-drop: getDroppedFiles.js: handle exceptions better
(#1797 / @lakesare)</li>
<li>@uppy/form: try/catch parsing, set updatedResult to an empty array when not an
array (#1800 / @arturi)</li>
<li>@uppy/locales: Finnish semantics improved and fixed some typos (#1744 /
@jukakoski)</li>
<li>@uppy/locales: Update sr_RS_Latin.js (#1749 / @nndevstudio)</li>
<li>@uppy/locales: correct some fr_FR localization strings (#1807 / @czj)</li>
<li>@uppy/locales: fix typo in Persian locale (@uxitten, #1865)</li>
<li>@uppy/locales: improve Swedish translation (@marcusforberg, #1859)</li>
<li>@uppy/thumbnail-generator: add waitForThumbnailsBeforeUpload option, false by
default (@arturi, #1803)</li>
<li>@uppy/transloadit: add limit option, warn about using limit when it’s set
to 0. In Uppy 2.0 we’ll set the limit to something sensible (like 10 files) by
default. (#1789 / @arturi)</li>
<li>@uppy/transloadit: pin socket.io version to ES5 compatible one
(@goto-bus-stop,
<a href="https://github.com/transloadit/uppy/commit/5839b655f093edaa778d49b719f7dda063ef79cb" target="_blank" rel="noopener noreferrer">https://github.com/transloadit/uppy/commit/5839b655f093edaa778d49b719f7dda063ef79cb</a>)</li>
<li>@uppy/xhr-upload: Throw an error when trying to upload a remote file with
<code>bundle: true</code> (#1769 / @arturi)</li>
<li>build: Fix statefulset update: statefulsets image only should be updated.
(#1821 / @kiloreux)</li>
<li>build: Update eslint to v6 (#1777 / @goto-bus-stop)</li>
<li>build: ci: tweak job run order (#1740 / @goto-bus-stop)</li>
<li>core: Made addFile return the file id (#1739 / @eliOcs)</li>
<li>docs: Link to Transloadit plugin from Robodog Form page (#1810 / @janko)</li>
<li>docs: Talk about using a custom-file input, instead of the file-input plugin
(#1765 / @arturi)</li>
<li>docs: add “force metafield” to docs and changelog
(ab053e7ab266d3a4838069ed23675bb9211e4d1a / @arturi)</li>
<li>docs: explicitly document supported tus-js-client options (#1755 /
@goto-bus-stop)</li>
<li>docs: fix typo (@leftdevel, #1852)</li>
<li>docs: redux - mentioned that we can&#x27;t persist Uppy state (#1793 / @lakesare)</li>
<li>docs: remove pre-1.0 notice from changelog (@mskelton, #1858)</li>
<li>docs: talk about marking some files as “already uploaded”
(c345cbd58992f7bea9525629c28d38420c6b36a3 / @arturi)</li>
<li>test: add end-to-end test with retries (@ifedapoolarewaju, #1766)</li>
<li>tests: e2e: reintroduce e2e test for providers locally (#1706 /
@ifedapoolarewaju)</li>
<li>website: /examples/dragdrop - added more obvious &#x27;file was uploaded&#x27; indicator
(#1750 / @lakesare)</li>
<li>website: /examples/xhrupload - more obvious UI, added a list of uploaded files
(#1768 / @lakesare)</li>
<li>website: add new version of hexo-filter-github-emojis (#1783 / @lakesare)</li>
<li>website: fix docs/locales code escaping and css overflow
(5a0055c15d04d97e8a0feb784daa7abe8da1d72d / @arturi)</li>
</ul>
<p>As always, you can find the full list of changes and package versions, as well
as future plans, in our
<a href="https://github.com/transloadit/uppy/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">changelog</a>.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_Wr5y"><ul class="footer_ZfVL"><li><a href="https://twitter.com/uppy_io" target="_blank" rel="noopener">Twitter</a></li><li><a href="https://uppy.io/blog/atom.xml" target="_blank" rel="noopener">RSS feed</a></li><li><a href="https://github.com/transloadit/uppy" target="_blank" rel="noopener">GitHub</a></li></ul></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2019/11/1.6/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Uppy 1.6: setOptions(), Icelandic and Thai</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2019/08/1.3/"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Uppy 1.3: Accessibility and performance, new languages</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/blog/2019/10/1.5/#issue-busting">Issue busting</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2019/10/1.5/#duplicate-files">Duplicate files</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2019/10/1.5/#dashboard">Dashboard</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2019/10/1.5/#cancellation">Cancellation</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2019/10/1.5/#lerna-lerna-lerna">Lerna lerna lerna</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2019/10/1.5/#localization">Localization</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2019/10/1.5/#facebook-and-onedrive">Facebook and OneDrive</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2019/10/1.5/#revoke-companions-provider-access-on-logout">Revoke Companion’s Provider access on logout</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/2019/10/1.5/#misc">Misc</a></li></ul></div></div></div></div></div><footer class="footer_J6tW"><p><img class="IndexFooter-logo" title="Uppy" alt="Uppy" src="/img/logo.svg"></p><p>Released under the<!-- --> <a href="http://opensource.org/licenses/MIT" target="_blank" rel="noreferrer noopener">MIT License</a> <!-- -->⋅ <a href="/privacy-policy/">Privacy Policy</a> ⋅<!-- --> <a href="https://github.com/transloadit/uppy/blob/main/.github/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">Contributing</a></p><p>© 2016-<!-- -->2025<!-- --> <a href="https://transloadit.com" target="_blank" rel="noopener noreferrer">Transloadit</a></p></footer></div>
</body>
</html>