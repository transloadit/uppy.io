<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">üéÑ Uppy 3.1-3.3: Improved AWS S3 Multipart, Single File Mode | Uppy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:url" content="https://uppy.io"><meta data-rh="true" name="twitter:card" content="img/og_image.jpg"><meta data-rh="true" name="twitter:domain" content="uppy.io"><meta data-rh="true" name="twitter:url" content="https://uppy.io"><meta data-rh="true" name="twitter:title" content="Uppy"><meta data-rh="true" name="twitter:description" content="Sleek, modular open source JavaScript file uploader"><meta data-rh="true" property="og:title" content="üéÑ Uppy 3.1-3.3: Improved AWS S3 Multipart, Single File Mode | Uppy"><meta data-rh="true" name="description" content="üéÖüê∂ Ho-ho-ho, we are about to wrap up another year for Uppy! Three minor"><meta data-rh="true" property="og:description" content="üéÖüê∂ Ho-ho-ho, we are about to wrap up another year for Uppy! Three minor"><meta data-rh="true" property="og:image" content="https://uppy.io/img/blog/3.1-3.3/dashboard-christmas.jpg"><meta data-rh="true" name="twitter:image" content="https://uppy.io/img/blog/3.1-3.3/dashboard-christmas.jpg"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-12-23T00:00:00.000Z"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://uppy.io/blog/2022/12/3.3/"><link data-rh="true" rel="alternate" href="https://uppy.io/blog/2022/12/3.3/" hreflang="en"><link data-rh="true" rel="alternate" href="https://uppy.io/blog/2022/12/3.3/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Q65IKQHNN5-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Uppy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Uppy Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Uppy" href="/opensearch.xml">

<script src="https://analytics.transloadit.com/js/plausible.js" async defer="defer" data-domain="uppy.io"></script>
<script src="https://buttons.github.io/buttons.js" async defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.42a36e99.css">
<link rel="preload" href="/assets/js/runtime~main.66ea8818.js" as="script">
<link rel="preload" href="/assets/js/main.1909f59a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Uppy Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Uppy Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Uppy</b></a><a class="navbar__item navbar__link" href="/docs/quick-start/">Docs</a><a class="navbar__item navbar__link" href="/examples/">Examples</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a href="https://github.com/transloadit/uppy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://community.transloadit.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://transloadit.com/open-source/support/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/3.3-3.13/">Uppy 3.3 to 3.13: conditional S3 multipart, signing on the client, speedy handling of 10k files and much much more</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023-05-new-website/">New Uppy.io and docs</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2022/12/3.3/">üéÑ Uppy 3.1-3.3: Improved AWS S3 Multipart, Single File Mode</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/09/3.0/">Uppy 3.0: Future-proof, conveniently easy, stable as ever</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/2.4-2.7/">Uppy 2.4-2.7: Image Compressor, Transloadit Rate Limiting, ESM</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://uppy.io/img/blog/3.1-3.3/dashboard-christmas.jpg"><header><h1 class="title_f1Hy" itemprop="headline">üéÑ Uppy 3.1-3.3: Improved AWS S3 Multipart, Single File Mode</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-12-23T00:00:00.000Z" itemprop="datePublished">December 23, 2022</time> ¬∑ <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="mailto:antoine@transloadit.com" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/aduh95.png" alt="Antoine du Hamel"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="mailto:antoine@transloadit.com" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Antoine du Hamel</span></a></div></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="mailto:artur@transloadit.com" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/arturi.png" alt="Artur Paikin"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="mailto:artur@transloadit.com" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Artur Paikin</span></a></div></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="mailto:mikael@transloadit.com" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mifi.png" alt="Mikael Finstad"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="mailto:mikael@transloadit.com" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Mikael Finstad</span></a></div></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="mailto:merlijn@transloadit.com" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/murderlon.png" alt="Merlijn Vos"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="mailto:merlijn@transloadit.com" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Merlijn Vos</span></a></div></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p><img loading="lazy" src="/assets/images/dashboard-christmas-7bdeb276706cce5b1944c93b7680ccfa.jpg" width="1400" height="1097" class="img_ev3q"></p><p>üéÖüê∂ Ho-ho-ho, we are about to wrap up another year for Uppy! Three <code>minor</code>
releases ago we‚Äôve introduced Uppy 3.0. It‚Äôs time to give you an update on
what‚Äôs been cooking in the Uppy-Transloadit headquarters (besides cranberry
sauce) for the past couple of months.</p><p>In short: AWS S3 Multipart stability improvements, Single File Mode for the
Dashboard, more tests and bugfixes, new locales.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="safer-aws-s3-multipart-uploads-on-slow-connections">Safer AWS S3 Multipart uploads on slow connections<a href="#safer-aws-s3-multipart-uploads-on-slow-connections" class="hash-link" aria-label="Direct link to Safer AWS S3 Multipart uploads on slow connections" title="Direct link to Safer AWS S3 Multipart uploads on slow connections">‚Äã</a></h2><p><code>@uppy/aws-s3-multipart</code> has been serving well for people who prefer a
<em>client-to_s3</em> setup with Uppy. However, some uploads could occasionally fail in
poor network conditions. It turned out, simultaneously signing and uploading
many chunks at once saturated the HTTP/1.1 connection limit, which lead to
signatures expiring by the time Uppy started uploading the next chunk.</p><p>We‚Äôve refactored our internal queue mechanism to sign chunks right before we
begin uploading them to the remote server. When the upload is paused, the queue
is emptied and re-populated again on resume. The default <code>limit</code> for this plugin
has been set to <code>6</code> and the default S3 signature expiry has been lifted from
<code>300</code> to <code>800</code> seconds.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="single-file-mode">Single File Mode<a href="#single-file-mode" class="hash-link" aria-label="Direct link to Single File Mode" title="Direct link to Single File Mode">‚Äã</a></h2><p>Often times people only want to upload a single file (most commonly an image)
via Uppy. But the Dashboard UI is tailored to handling many files at once, and
it used to display the single image as a small, sad-looking block in the corner.
This ends now! (Actually, it ended a few releases ago, figure of speech).</p><img loading="lazy" src="/img/blog/3.1-3.3/single-file-mode.jpg" class="border img_ev3q"><p>With only one file selected, we‚Äôll display it large and centered, and make sure
to re-generate the image preview so it‚Äôs <code>600px</code> wide, looking nice and sleek on
modern displays.</p><p>See <a href="https://github.com/transloadit/uppy/pull/4188" target="_blank" rel="noopener noreferrer">PR #4188</a> for more
screenshots.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-and-upgrades">Bug fixes and Upgrades<a href="#bug-fixes-and-upgrades" class="hash-link" aria-label="Direct link to Bug fixes and Upgrades" title="Direct link to Bug fixes and Upgrades">‚Äã</a></h2><p>We‚Äôve upgraded Typescript to <code>v4.8</code> and Jest to <code>v29</code>, among other tools and
packages.</p><p>We are now additionally testing that Uppy packages are correctly bundled with
the latest Rollup, Webpack, Parcel, Vite, and ESBuild.</p><p>Notable bug fixes:</p><ul><li>XHR Upload: Queue requests for socket token for remote files</li><li>Core: Prevent crashes when a file is removed before the upload starts</li><li>Golden Retriever: Fixed upload retries</li><li>AWS S3 and XHR Upload: Fixed Cannot mark a queued request as done in
MiniXHRUpload</li><li>Webcam: Set default videoConstraints</li><li>Image Editor: Fix controls in small Dashboard</li></ul><p>See the full list in the
<a href="https://github.com/transloadit/uppy/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer">changelog</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="companion">Companion<a href="#companion" class="hash-link" aria-label="Direct link to Companion" title="Direct link to Companion">‚Äã</a></h2><p>And of course, this festive season we are not forgetting Companion under the
tree:</p><ul><li>Throttle progress by time</li><li>Added workaround for S3 accelerated endpoints</li><li>Send expire info for non-multipart uploads</li><li>Send expiry time alongside S3 signed requests</li><li>Added support for AbortSignal</li><li>Prevent preflight race condition</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="locales">Locales<a href="#locales" class="hash-link" aria-label="Direct link to Locales" title="Direct link to Locales">‚Äã</a></h2><p>Uzbek language pack was added, while Polish and Ukrainian language packs were
updated.</p><hr><p>That‚Äôs it for our updates! Stay tuned for more in 2023 and happy holidays (if
you are celebrating)! Cheers. In the meantime, we are driving home, driving home
for Christmas. Yeah.</p><p><img loading="lazy" src="/assets/images/driving-home-0b068883d13788971c4bd54faf9e66f6.gif" width="480" height="270" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_Wr5y"><ul class="footer_ZfVL"><li><a target="_blank" rel="noopener" href="https://twitter.com/uppy_io">Twitter</a></li><li><a target="_blank" rel="noopener" href="https://uppy.io/blog/atom.xml">RSS feed</a></li><li><a target="_blank" rel="noopener" href="https://github.com/transloadit/uppy">GitHub</a></li></ul></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2023-05-new-website/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">New Uppy.io and docs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2022/09/3.0/"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Uppy 3.0: Future-proof, conveniently easy, stable as ever</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#safer-aws-s3-multipart-uploads-on-slow-connections" class="table-of-contents__link toc-highlight">Safer AWS S3 Multipart uploads on slow connections</a></li><li><a href="#single-file-mode" class="table-of-contents__link toc-highlight">Single File Mode</a></li><li><a href="#bug-fixes-and-upgrades" class="table-of-contents__link toc-highlight">Bug fixes and Upgrades</a></li><li><a href="#companion" class="table-of-contents__link toc-highlight">Companion</a></li><li><a href="#locales" class="table-of-contents__link toc-highlight">Locales</a></li></ul></div></div></div></div></div><footer class="footer_J6tW"><p><img class="IndexFooter-logo" title="Uppy" alt="Uppy" src="/img/logo.svg"></p><p>Released under the<!-- --> <a href="http://opensource.org/licenses/MIT" rel="noreferrer noopener" target="_blank">MIT License</a> <!-- -->‚ãÖ <a href="/privacy-policy/">Privacy Policy</a> ‚ãÖ<!-- --> <a href="https://github.com/transloadit/uppy/blob/main/.github/CONTRIBUTING.md">Contributing</a></p><p>¬© 2023<!-- --> <a href="https://transloadit.com" target="_blank">Transloadit</a></p></footer></div>
<script src="/assets/js/runtime~main.66ea8818.js"></script>
<script src="/assets/js/main.1909f59a.js"></script>
</body>
</html>